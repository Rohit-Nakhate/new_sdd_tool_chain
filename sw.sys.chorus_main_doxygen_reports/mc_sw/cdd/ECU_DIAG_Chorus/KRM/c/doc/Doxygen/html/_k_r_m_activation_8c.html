<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDD_KRM_Chorus: KRMActivation.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDD_KRM_Chorus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_555faaf16ed2c6601ac2bd79e42789e9.html">sw.sys.chorus_main_build</a></li><li class="navelem"><a class="el" href="dir_8c5bb8e6017a091611255f5df25847cf.html">mc_sw</a></li><li class="navelem"><a class="el" href="dir_0e57bb0d22386323bf9524ba12bdb1ae.html">cdd</a></li><li class="navelem"><a class="el" href="dir_75282df1818369bb99544892d020e3a1.html">ECU_DIAG_Chorus</a></li><li class="navelem"><a class="el" href="dir_8b381f9ab62ce1a0731e0dc070680f5a.html">KRM</a></li><li class="navelem"><a class="el" href="dir_5dc8a69c7720dabbd7fa7dd7bc944337.html">c</a></li><li class="navelem"><a class="el" href="dir_658031c3d93cc89871930367bd1097cc.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">KRMActivation.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the code for KRM_Chorus functionality.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
Include dependency graph for KRMActivation.c:</div>
<div class="dyncontent">
<div class="center"><img src="_k_r_m_activation_8c__incl.png" border="0" usemap="#_k_r_m_activation_8c" alt=""/></div>
<map name="_k_r_m_activation_8c" id="_k_r_m_activation_8c">
<area shape="rect" id="node2" href="_k_r_m_activation_8h.html" title="This header contains those function declarations that can be accessed externally. ..." alt="" coords="95,87,213,114"/>
</map>
</div>
</div>
<p><a href="_k_r_m_activation_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5670e415ec3605775593c2d6eead68dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a5670e415ec3605775593c2d6eead68dd">KL15_ON</a>&#160;&#160;&#160;0x01u</td></tr>
<tr class="memdesc:a5670e415ec3605775593c2d6eead68dd"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a5670e415ec3605775593c2d6eead68dd">More...</a><br /></td></tr>
<tr class="separator:a5670e415ec3605775593c2d6eead68dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ab5ebfb1b021acad25af2edef74a15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#af7ab5ebfb1b021acad25af2edef74a15">RPM_QBIT_VALID</a>&#160;&#160;&#160;0x00u</td></tr>
<tr class="memdesc:af7ab5ebfb1b021acad25af2edef74a15"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#af7ab5ebfb1b021acad25af2edef74a15">More...</a><br /></td></tr>
<tr class="separator:af7ab5ebfb1b021acad25af2edef74a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02524d7c8beab3a873ca4b2cbd5a6a20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a02524d7c8beab3a873ca4b2cbd5a6a20">FIVE_MESSAGES</a>&#160;&#160;&#160;0x05u</td></tr>
<tr class="memdesc:a02524d7c8beab3a873ca4b2cbd5a6a20"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a02524d7c8beab3a873ca4b2cbd5a6a20">More...</a><br /></td></tr>
<tr class="separator:a02524d7c8beab3a873ca4b2cbd5a6a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914e547a33dbe717bd9fc67f6a92982b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a914e547a33dbe717bd9fc67f6a92982b">DTC_STATUS_TEST_FAILED</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:a914e547a33dbe717bd9fc67f6a92982b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a914e547a33dbe717bd9fc67f6a92982b">More...</a><br /></td></tr>
<tr class="separator:a914e547a33dbe717bd9fc67f6a92982b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc718b920bb9ec38080fa4c8633cfc03"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#abc718b920bb9ec38080fa4c8633cfc03">KRM_INACTIVE_VALUE</a>&#160;&#160;&#160;0x00u</td></tr>
<tr class="memdesc:abc718b920bb9ec38080fa4c8633cfc03"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#abc718b920bb9ec38080fa4c8633cfc03">More...</a><br /></td></tr>
<tr class="separator:abc718b920bb9ec38080fa4c8633cfc03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce850d6aa6d9544c9bbe638f4e861ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a7ce850d6aa6d9544c9bbe638f4e861ea">KRM_ACTIVE_VALUE</a>&#160;&#160;&#160;0x01u</td></tr>
<tr class="memdesc:a7ce850d6aa6d9544c9bbe638f4e861ea"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a7ce850d6aa6d9544c9bbe638f4e861ea">More...</a><br /></td></tr>
<tr class="separator:a7ce850d6aa6d9544c9bbe638f4e861ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9c8a03f497bb3ec9a7cf51b6ede10d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a8c9c8a03f497bb3ec9a7cf51b6ede10d">MESSAGE_0x04FB_ARRAY_SIZE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a8c9c8a03f497bb3ec9a7cf51b6ede10d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a8c9c8a03f497bb3ec9a7cf51b6ede10d">More...</a><br /></td></tr>
<tr class="separator:a8c9c8a03f497bb3ec9a7cf51b6ede10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a18946a016a1e95e1a84eb12e5452ea4c"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a18946a016a1e95e1a84eb12e5452ea4c">T_KRM_RequestType</a></td></tr>
<tr class="memdesc:a18946a016a1e95e1a84eb12e5452ea4c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a18946a016a1e95e1a84eb12e5452ea4c">More...</a><br /></td></tr>
<tr class="separator:a18946a016a1e95e1a84eb12e5452ea4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a27bced42d9155a518da0ebf58579da84"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a> { <br />
&#160;&#160;<a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84aa6fb2ec3a8f2155a7c26173323212bdc">eKRM_DeactivationRequest</a> = 0, 
<br />
&#160;&#160;<a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84abf9810aec619a6e097447b542f6579b4">eKRM_ActivationRequest</a>, 
<br />
&#160;&#160;<a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84acc8e9f9b41cdf3a345f2b8e5015f0fa5">eKRM_InvalidRequest</a>
<br />
 }</td></tr>
<tr class="memdesc:a27bced42d9155a518da0ebf58579da84"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">More...</a><br /></td></tr>
<tr class="separator:a27bced42d9155a518da0ebf58579da84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a07111ed78796a62434eafc3ba1c7aa87"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a07111ed78796a62434eafc3ba1c7aa87">getRequestType</a> (const uint8 *data)</td></tr>
<tr class="memdesc:a07111ed78796a62434eafc3ba1c7aa87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets request type from DCM buffer.  <a href="#a07111ed78796a62434eafc3ba1c7aa87">More...</a><br /></td></tr>
<tr class="separator:a07111ed78796a62434eafc3ba1c7aa87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b991d97ed7dc7588f399d278609cfd"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#ac8b991d97ed7dc7588f399d278609cfd">areConditionsValid</a> (<a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a> a_eRequestType)</td></tr>
<tr class="memdesc:ac8b991d97ed7dc7588f399d278609cfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>areConditionsValid</b> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus).  <a href="#ac8b991d97ed7dc7588f399d278609cfd">More...</a><br /></td></tr>
<tr class="separator:ac8b991d97ed7dc7588f399d278609cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c529e26ffa0394174667a3a4694d7f1"><td class="memItemLeft" align="right" valign="top">static Std_ReturnType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a6c529e26ffa0394174667a3a4694d7f1">proceedRequest</a> (<a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a> a_eRequestType)</td></tr>
<tr class="memdesc:a6c529e26ffa0394174667a3a4694d7f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>proceedRequest</b> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus) if adaption value changed AND conditions for activation resp.  <a href="#a6c529e26ffa0394174667a3a4694d7f1">More...</a><br /></td></tr>
<tr class="separator:a6c529e26ffa0394174667a3a4694d7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d81903aaa6b917660bb185e25dbd7f"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a22d81903aaa6b917660bb185e25dbd7f">getDTCEventStatus</a> (const Dem_EventIdType eventNumber)</td></tr>
<tr class="memdesc:a22d81903aaa6b917660bb185e25dbd7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>getDTCEventStatus</b> checks the status of a DTC and returns it.  <a href="#a22d81903aaa6b917660bb185e25dbd7f">More...</a><br /></td></tr>
<tr class="separator:a22d81903aaa6b917660bb185e25dbd7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3f87ac4ad41931e2065d14cefc510e"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#adf3f87ac4ad41931e2065d14cefc510e">checkConditions</a> (void)</td></tr>
<tr class="memdesc:adf3f87ac4ad41931e2065d14cefc510e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>checkConditions</b> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus).  <a href="#adf3f87ac4ad41931e2065d14cefc510e">More...</a><br /></td></tr>
<tr class="separator:adf3f87ac4ad41931e2065d14cefc510e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b25ba00de195d8e91c2a9c913cd2be"><td class="memItemLeft" align="right" valign="top">static Std_ReturnType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#ac0b25ba00de195d8e91c2a9c913cd2be">writeKRMFailureActiveToNVM</a> (const boolean isDTCActive)</td></tr>
<tr class="memdesc:ac0b25ba00de195d8e91c2a9c913cd2be"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function saves state of KRM failer DTC to NVM.  <a href="#ac0b25ba00de195d8e91c2a9c913cd2be">More...</a><br /></td></tr>
<tr class="separator:ac0b25ba00de195d8e91c2a9c913cd2be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634c6987095a8daf6a056e841a2758dc"><td class="memItemLeft" align="right" valign="top">static Std_ReturnType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a634c6987095a8daf6a056e841a2758dc">proceedKRMActiveState</a> (void)</td></tr>
<tr class="memdesc:a634c6987095a8daf6a056e841a2758dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function proceeds KRM when it is in valid state.  <a href="#a634c6987095a8daf6a056e841a2758dc">More...</a><br /></td></tr>
<tr class="separator:a634c6987095a8daf6a056e841a2758dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c22efda36dc35471d88b560510b619f"><td class="memItemLeft" align="right" valign="top">static Std_ReturnType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a2c22efda36dc35471d88b560510b619f">updateKRMSignals</a> (const boolean s_blRollenmodusAktiv, const boolean KRM_Fehler_im_Konzernrollenmodus, const boolean KRM_Konzernrollenmodus_aktiv)</td></tr>
<tr class="memdesc:a2c22efda36dc35471d88b560510b619f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates KRM output signals (for example for output on CAN).  <a href="#a2c22efda36dc35471d88b560510b619f">More...</a><br /></td></tr>
<tr class="separator:a2c22efda36dc35471d88b560510b619f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0efcce49b834d9b7dc821244de4d44a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#ab0efcce49b834d9b7dc821244de4d44a">KRMInitialDTCCheck</a> (void)</td></tr>
<tr class="memdesc:ab0efcce49b834d9b7dc821244de4d44a"><td class="mdescLeft">&#160;</td><td class="mdescRight">KRM initial DTC consistency check, It is used to prevent from having DTC060911 active without KRM activated.  <a href="#ab0efcce49b834d9b7dc821244de4d44a">More...</a><br /></td></tr>
<tr class="separator:ab0efcce49b834d9b7dc821244de4d44a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a260e839828348ebf0833c190b43d2bac"><td class="memItemLeft" align="right" valign="top">static Std_ReturnType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a260e839828348ebf0833c190b43d2bac">GW_KRM_ProcessRequest</a> (const uint8 *data, Dcm_NegativeResponseCodeType *errorCode)</td></tr>
<tr class="memdesc:a260e839828348ebf0833c190b43d2bac"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>GW_KRM_ProcessRequest</b> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus) if the new adaptation value is different from the current value.  <a href="#a260e839828348ebf0833c190b43d2bac">More...</a><br /></td></tr>
<tr class="separator:a260e839828348ebf0833c190b43d2bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2367210944fe1f697d68d04a9a0ec29b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a2367210944fe1f697d68d04a9a0ec29b">s_ESP_Rollenmodus_Deaktivieren_Message_Counter</a> (void)</td></tr>
<tr class="memdesc:a2367210944fe1f697d68d04a9a0ec29b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function counts the ESC_52 messages (to find out if Konzernrollenmodus is to deactivate).  <a href="#a2367210944fe1f697d68d04a9a0ec29b">More...</a><br /></td></tr>
<tr class="separator:a2367210944fe1f697d68d04a9a0ec29b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e85d5d754df6bed483385871d1e1bc"><td class="memItemLeft" align="right" valign="top">Std_ReturnType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#ac9e85d5d754df6bed483385871d1e1bc">GW_KRM_ActivityMonitor</a> (void)</td></tr>
<tr class="memdesc:ac9e85d5d754df6bed483385871d1e1bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>GW_KRM_ActivityMonitor</b> monitors if Konzernrollenmodus shall be still in active state.  <a href="#ac9e85d5d754df6bed483385871d1e1bc">More...</a><br /></td></tr>
<tr class="separator:ac9e85d5d754df6bed483385871d1e1bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61f149d9fa1bfd8604a13f935b4e6a8f"><td class="memItemLeft" align="right" valign="top">Std_ReturnType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a61f149d9fa1bfd8604a13f935b4e6a8f">GW_Write_Adaption_0x04FB</a> (const uint8 *Data, Dcm_OpStatusType OpStatus, Dcm_NegativeResponseCodeType *ErrorCode)</td></tr>
<tr class="memdesc:a61f149d9fa1bfd8604a13f935b4e6a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a61f149d9fa1bfd8604a13f935b4e6a8f">More...</a><br /></td></tr>
<tr class="separator:a61f149d9fa1bfd8604a13f935b4e6a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4184ef69a07f540d782ffe89a69c10a2"><td class="memItemLeft" align="right" valign="top">Std_ReturnType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a4184ef69a07f540d782ffe89a69c10a2">GW_Read_Adaption_0x04FB</a> (Dcm_OpStatusType OpStatus, uint8 *Data)</td></tr>
<tr class="memdesc:a4184ef69a07f540d782ffe89a69c10a2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a4184ef69a07f540d782ffe89a69c10a2">More...</a><br /></td></tr>
<tr class="separator:a4184ef69a07f540d782ffe89a69c10a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aff44ee050945dea137035637cea5d5ca"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#aff44ee050945dea137035637cea5d5ca">fiveMessagesCounterStart</a> = 0</td></tr>
<tr class="memdesc:aff44ee050945dea137035637cea5d5ca"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#aff44ee050945dea137035637cea5d5ca">More...</a><br /></td></tr>
<tr class="separator:aff44ee050945dea137035637cea5d5ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070f452f437662a20ae84e3dcb6dff95"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_r_m_activation_8c.html#a070f452f437662a20ae84e3dcb6dff95">FiveMessagesEsc52Occured</a> = 0</td></tr>
<tr class="memdesc:a070f452f437662a20ae84e3dcb6dff95"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a070f452f437662a20ae84e3dcb6dff95">More...</a><br /></td></tr>
<tr class="separator:a070f452f437662a20ae84e3dcb6dff95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the code for KRM_Chorus functionality. </p>
<dl class="section rcs"><dt>Source</dt><dd><a class="el" href="_k_r_m_activation_8c.html" title="This file contains the code for KRM_Chorus functionality. ">KRMActivation.c</a> </dd></dl>
<dl class="section rcs"><dt>Revision</dt><dd>#7 </dd></dl>
<dl class="section rcs"><dt>Author</dt><dd>uic18224 </dd></dl>
<dl class="section rcs"><dt>DateTime</dt><dd>2021/02/12 04:23:34 </dd></dl>
<p>The unit handles the state machine,condition checks and read-write requests. <br />
Contains declarations of functions,variables used only within the module. <br />
</p><dl class="section user"><dt>Verification criteria</dt><dd>Include own header file <a class="el" href="_k_r_m_activation_8h.html" title="This header contains those function declarations that can be accessed externally. ...">KRMActivation.h</a> in the testcase file (SWATT). <br />
Add software requirement IDs in the testcases. <br />
Expected test coverage (100%) and type of test coverage is C1. <br />
<br />
</dd></dl>

<p class="definition">Definition in file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a914e547a33dbe717bd9fc67f6a92982b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914e547a33dbe717bd9fc67f6a92982b">&#9670;&nbsp;</a></span>DTC_STATUS_TEST_FAILED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DTC_STATUS_TEST_FAILED&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Verification of DTC state.</p>
<p>This Mask value is used to detect if DTC is active or not. </p><dl class="section remark"><dt>Remarks</dt><dd>value 0x01u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00116">116</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a02524d7c8beab3a873ca4b2cbd5a6a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02524d7c8beab3a873ca4b2cbd5a6a20">&#9670;&nbsp;</a></span>FIVE_MESSAGES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIVE_MESSAGES&#160;&#160;&#160;0x05u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Five message threshold.</p>
<p>Beyond threshold values can be ignored. </p><dl class="section remark"><dt>Remarks</dt><dd>value 0x05u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00106">106</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a5670e415ec3605775593c2d6eead68dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5670e415ec3605775593c2d6eead68dd">&#9670;&nbsp;</a></span>KL15_ON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KL15_ON&#160;&#160;&#160;0x01u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>KL15 is On.</p>
<p>Other KL15 states to be ignored. This value is used in conditions to check if KL15 is ON or not. </p><dl class="section remark"><dt>Remarks</dt><dd>value 0x01u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00083">83</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a7ce850d6aa6d9544c9bbe638f4e861ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce850d6aa6d9544c9bbe638f4e861ea">&#9670;&nbsp;</a></span>KRM_ACTIVE_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KRM_ACTIVE_VALUE&#160;&#160;&#160;0x01u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>KRM Active value.</p>
<p>This value is used in conditions to check if state of KRM is Active or not. </p><dl class="section remark"><dt>Remarks</dt><dd>Value 0x01u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00138">138</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="abc718b920bb9ec38080fa4c8633cfc03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc718b920bb9ec38080fa4c8633cfc03">&#9670;&nbsp;</a></span>KRM_INACTIVE_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KRM_INACTIVE_VALUE&#160;&#160;&#160;0x00u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>KRM Inactive value.</p>
<p>This value is used in conditions to check if state of KRM is inactive or not. </p><dl class="section remark"><dt>Remarks</dt><dd>Value 0x00u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00127">127</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a8c9c8a03f497bb3ec9a7cf51b6ede10d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c9c8a03f497bb3ec9a7cf51b6ede10d">&#9670;&nbsp;</a></span>MESSAGE_0x04FB_ARRAY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MESSAGE_0x04FB_ARRAY_SIZE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Maximum KRM array size.</p>
<p>Elements beyond array size can be ignored. </p><dl class="section remark"><dt>Remarks</dt><dd>Value 1 <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00149">149</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="af7ab5ebfb1b021acad25af2edef74a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ab5ebfb1b021acad25af2edef74a15">&#9670;&nbsp;</a></span>RPM_QBIT_VALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPM_QBIT_VALID&#160;&#160;&#160;0x00u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>RPM Qualification bit is valid.</p>
<p>Other RPM_QM states to be ignored.This value is used in conditions to check if RPM_QM is 0 or not. </p><dl class="section remark"><dt>Remarks</dt><dd>value 0x00u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00095">95</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a18946a016a1e95e1a84eb12e5452ea4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18946a016a1e95e1a84eb12e5452ea4c">&#9670;&nbsp;</a></span>T_KRM_RequestType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a> <a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>This enum is on possible KRM write requests.</p>
<p>Based on the type of request, the adaption is set. <br />
 There are 3 possible requests - ActivationRequest, DeactivationRequest, InvalidRequest. </p><dl class="section remark"><dt>Remarks</dt><dd>range 0-2 <br />
 values No special values. <br />
</dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a27bced42d9155a518da0ebf58579da84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27bced42d9155a518da0ebf58579da84">&#9670;&nbsp;</a></span>T_KRM_RequestType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>This enum is on possible KRM write requests.</p>
<p>Based on the type of request, the adaption is set. <br />
 There are 3 possible requests - ActivationRequest, DeactivationRequest, InvalidRequest. </p><dl class="section remark"><dt>Remarks</dt><dd>range 0-2 <br />
 values No special values. <br />
</dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a27bced42d9155a518da0ebf58579da84aa6fb2ec3a8f2155a7c26173323212bdc"></a>eKRM_DeactivationRequest&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a27bced42d9155a518da0ebf58579da84abf9810aec619a6e097447b542f6579b4"></a>eKRM_ActivationRequest&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a27bced42d9155a518da0ebf58579da84acc8e9f9b41cdf3a345f2b8e5015f0fa5"></a>eKRM_InvalidRequest&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00161">161</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac8b991d97ed7dc7588f399d278609cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b991d97ed7dc7588f399d278609cfd">&#9670;&nbsp;</a></span>areConditionsValid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean areConditionsValid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a>&#160;</td>
          <td class="paramname"><em>a_eRequestType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function <b>areConditionsValid</b> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus). </p>
<p>It checks for the type of request (activation or deactivation) that is passed to it via function parameter "a_eRequestType" if all preconditions for <br />
 the requested adaptation are fullfilled and returns the result of the check. <br />
 </p><dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#a260e839828348ebf0833c190b43d2bac">GW_KRM_ProcessRequest</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a_eRequestType,Request</td><td>type (activation / deactivation) as extracted from DCM buffer for adaptation channel 0x04FB. Value range is from 0-2. <br />
 Remark: eKRM_InvalidRequest (value 2) shall be handled in the same way as eKRM_DeactivationRequest. <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean <br />
 If all preconditions are fullfilled to perform the adaptation of DID 0x04FB with the request type given in "a_eRequestType" <br />
 TRUE - All conditions are met to trigger adaptation write process for the requested type (activation or deactivation) <br />
 FALSE - Not all conditions are fullfilled <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>Condition check is performed. If all KRM preconditions are met, and Activation request is received, then KRM mode will get activated. If Condition check fails and Activation request is received, false is returned and KRM activation does not happen. In case of any error, default case is executed.</dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="areConditionsValid.png" alt="areConditionsValid.png"/>
<div class="caption">
Activity diagram of the function "areConditionsValid"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
1)Equivalence class analysis (test of representative values from input range) <br />
 </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on request data, ESC52.Rollenmodus_Deaktivieren, RPM, KL15, speed, voltage. <br />
 <a class="el" href="_k_r_m_activation_8c_8test.html#ac6b46a061a9abcb29720baa299a422ac">TEST_areConditionsValid</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000004">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_91; SWR_L1_KRM_90 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00919">919</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="adf3f87ac4ad41931e2065d14cefc510e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf3f87ac4ad41931e2065d14cefc510e">&#9670;&nbsp;</a></span>checkConditions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean checkConditions </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function <b>checkConditions</b> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus). </p>
<p>This function checks if the preconditions valid for both - activation and deactivation of KRM - are fullfilled. <br />
 The check includes the following signals (common for activation and deactivation) but NOT the signal ESP_Rollenmodus_Deaktivieren: <br />
</p><ol type="1">
<li>KL15 = 0n</li>
<li>KL30 Voltage is in Operating Voltage Range</li>
<li>ESP_v_Signal = 0</li>
<li>MO_QBit_Drehzahl_01 = 0 (valid value)</li>
<li>MO_Drehzahl_01 = 0</li>
</ol>
<dl class="section pre"><dt>Precondition</dt><dd>N/A</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#ac8b991d97ed7dc7588f399d278609cfd">areConditionsValid</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td><br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean <br />
 Info if ALL common preconditions for activation and deactivatation of KRM are fullfilled <br />
 TRUE - All common preconditions are fullfilled <br />
 FALSE - Not all common preconditions are fullfilled <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>If all preconditions are met, function will return true, else false.</dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="checkConditions.png" alt="checkConditions.png"/>
<div class="caption">
Activity diagram of the function "checkConditions"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
1)Equivalence class analysis (test of representative values from input range) <br />
</dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on request type, precondition inputs. <a class="el" href="_k_r_m_activation_8c_8test.html#ade274b6c4a781091b66e5629d5ebfd08">TEST_checkConditions</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000007">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_91; SWR_L1_KRM_90 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00982">982</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a22d81903aaa6b917660bb185e25dbd7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d81903aaa6b917660bb185e25dbd7f">&#9670;&nbsp;</a></span>getDTCEventStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean getDTCEventStatus </td>
          <td>(</td>
          <td class="paramtype">const Dem_EventIdType&#160;</td>
          <td class="paramname"><em>eventNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function <b>getDTCEventStatus</b> checks the status of a DTC and returns it. </p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#ab0efcce49b834d9b7dc821244de4d44a">KRMInitialDTCCheck</a>, <a class="el" href="_k_r_m_activation_8c.html#ac9e85d5d754df6bed483385871d1e1bc">GW_KRM_ActivityMonitor</a>, <a class="el" href="_k_r_m_activation_8c.html#a634c6987095a8daf6a056e841a2758dc">proceedKRMActiveState</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away. <br />
 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eventNumber</td><td>DEM event number related to a certain DTC <br />
 Expected Value Range - GW_DemEventId_060911, GW_DemEventId_060918 <br />
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean Status of the DTC related to the event ID passed to the function as argument in the parameter eventNumber <br />
 TRUE - Checked DTC is active <br />
 FALSE - Checked DTC is not active <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>Based on input eventNumber, the DTC status is received from Dem.</dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="getDTCEventStatus_Activity.png" alt="getDTCEventStatus_Activity.png"/>
<div class="caption">
Activity diagram of the function "getDTCEventStatus"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
1)Equivalence class analysis (test of representative values from input range) <br />
</dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on returnValue and expected DTC status. <a class="el" href="_k_r_m_activation_8c_8test.html#a5c3b122f274bad7518ac44534b256d77">TEST_getDTCEventStatus</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000006">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_124,SWR_L1_KRM_121,SWR_L1_KRM_72 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l01044">1044</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a07111ed78796a62434eafc3ba1c7aa87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07111ed78796a62434eafc3ba1c7aa87">&#9670;&nbsp;</a></span>getRequestType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a> getRequestType </td>
          <td>(</td>
          <td class="paramtype">const uint8 *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets request type from DCM buffer. </p>
<dl class="section pre"><dt>Precondition</dt><dd>Request write 0x04FB. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A <br />
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#a260e839828348ebf0833c190b43d2bac">GW_KRM_ProcessRequest</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data to be processed, uint8 pointer to DCM place, where identification data will be stored, Value of data: 0x01u - Activation, 0x00u - Deactivation <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>T_KRM_RequestType; Type of request, in case of error eKRM_InvalidRequest is returned: eKRM_ActivationRequest, eKRM_DeactivationRequest, eKRM_InvalidRequest.</dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>Based on type of write request requested by tester, the data is processed. If valid data is received, then either 'KRM to be activated' or 'KRM to be deactivated' will be returned. In case of error, then 'Invalid Request' will be returned. This function is event based as it is invoked only upon write request. <br />
 </dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="getRequestType.png" alt="getRequestType.png"/>
<div class="caption">
getRequestType Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
1) equivalence class analysis (test of representative values from input range) <br />
 </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on possible data inputs. <br />
 <a class="el" href="_k_r_m_activation_8c_8test.html#a88e1c67366ea6c19b0c9049a96fd140c">TEST_getRequestType</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000003">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_118; SWR_L1_KRM_92 ;SWR_L1_KRM_91; SWR_L1_KRM_90</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00885">885</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="ac9e85d5d754df6bed483385871d1e1bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e85d5d754df6bed483385871d1e1bc">&#9670;&nbsp;</a></span>GW_KRM_ActivityMonitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Std_ReturnType GW_KRM_ActivityMonitor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>GW_KRM_ActivityMonitor</b> monitors if Konzernrollenmodus shall be still in active state. </p>
<p>It is cyclically called in DiagTask. <br />
 </p><dl class="section pre"><dt>Precondition</dt><dd>N/A</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant - No <br />
 context - called by DiagTask <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Std_ReturnType <br />
 Returns E_OK in case of success, different value idicates an error <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>T_GW_0x04FB_ANP GW_0x04FB_ANP <br />
This is Struct variable, Struct element "KRM_Active" holds the current value of DID 0x04FB.This is both input and output variable. Range - KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE.</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>Called every 10ms by DiagTask. </dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="GW_KRM_ActivityMonitor.png" alt="GW_KRM_ActivityMonitor.png"/>
<div class="caption">
GW_KRM_ActivityMonitor Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using one of the following test methods: <br />
 Equivalence class analysis (test of representative values from input range) <br />
 </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on ESC52 message, ESC52.ESP_Rollenmodus_Deaktivieren, adaptation status, KL15 state. <br />
 <a class="el" href="_k_r_m_activation_8c_8test.html#a15a95e0e502cbfe34db39adf41eccfec">TEST_GW_KRM_ActivityMonitor</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000001">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_39; SWR_L1_KRM_128; SWR_L1_KRM_137; SWR_L1_KRM_123; SWR_L1_KRM_121; SWR_L1_KRM_133; SWR_L1_KRM_67; SWR_L1_KRM_136 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l01091">1091</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a260e839828348ebf0833c190b43d2bac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a260e839828348ebf0833c190b43d2bac">&#9670;&nbsp;</a></span>GW_KRM_ProcessRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Std_ReturnType GW_KRM_ProcessRequest </td>
          <td>(</td>
          <td class="paramtype">const uint8 *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dcm_NegativeResponseCodeType *&#160;</td>
          <td class="paramname"><em>errorCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function <b>GW_KRM_ProcessRequest</b> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus) if the new adaptation value is different from the current value. </p>
<p><br />
 </p><dl class="section pre"><dt>Precondition</dt><dd>KL15 must be ON and preconditions must be met for KRM activation to happen. <br />
 </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A <br />
 </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#a61f149d9fa1bfd8604a13f935b4e6a8f">GW_Write_Adaption_0x04FB</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data to be processed, uint8 pointer, Value of data: 0x01u - Activation, 0x00u - Deactivation <br />
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errorCode</td><td>Error code for DCM, Dcm_NegativeResponseCodeType pointer <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Std_ReturnType; Returns E_OK in case of success, different value indicates an error <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>Based on data, the request is processed. In case of any errors, then NRC is received. </dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="GW_KRM_ProcessRequest.png" alt="GW_KRM_ProcessRequest.png"/>
<div class="caption">
GW_KRM_ProcessRequest Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
<a class="el" href="_k_r_m_activation_8c_8test.html#abf719c6826a10635787938332e7082c6">TEST_GW_KRM_ProcessRequest</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>1) equivalence class analysis (test of representative values from input range) <br />
Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000011">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_118; SWR_L1_KRM_92 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00752">752</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a4184ef69a07f540d782ffe89a69c10a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4184ef69a07f540d782ffe89a69c10a2">&#9670;&nbsp;</a></span>GW_Read_Adaption_0x04FB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Std_ReturnType GW_Read_Adaption_0x04FB </td>
          <td>(</td>
          <td class="paramtype">Dcm_OpStatusType&#160;</td>
          <td class="paramname"><em>OpStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function <b>GW_Read_Adaption_0x04FB</b> provides the current value of DID 0x04fb (adaptation channel - Roller_Test_Stand_Mode)</p>
<dl class="section pre"><dt>Precondition</dt><dd>DID configuration should be done in EB TRESOS. Tester needs to request read adaptation 0x04FB for this function to be called.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called by DCM <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">OpStatus</td><td>NOT used (Parameter is available due to Tresos configuration, Must be accepted as is.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Data</td><td>Pointer to the data buffer. The current value of the adaptation channel is written via pointer to this buffer. <br />
Value range - KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Std_ReturnType <br />
 If adaptation value was provicded successfully to the caller of this function. <br />
 E_OK - adaption value was passed successfully to data buffer <br />
 E_NOT_OK - value could not be passed to data buffer <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>T_GW_0x04FB_ANP GW_0x04FB_ANP <br />
 This ia a struct variable. Struct element "KRM_Active" holds the current value of DID 0x04FB. <br />
 Range of the variable is KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE. <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>When tester reads 0x04FB, this function is called by the DCM. <br />
 </dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="GW_Read_Adaption_0x04FB.png" alt="GW_Read_Adaption_0x04FB.png"/>
<div class="caption">
Activity diagram of the function "GW_Read_Adaption_0x04FB"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
1) Equivalence class analysis (test of representative values from input range) <br />
 </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on GW_0x04FB_ANP.KRM_Active,GW_0x04FB_ANP.KRM_Failure. <br />
 <a class="el" href="_k_r_m_activation_8c_8test.html#afcc23043633c00d94ad6967f525a3f6a">TEST_GW_Read_Adaption_0x04FB</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000013">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_68 SWR_ICAS1_GW_3919 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l01347">1347</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a61f149d9fa1bfd8604a13f935b4e6a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61f149d9fa1bfd8604a13f935b4e6a8f">&#9670;&nbsp;</a></span>GW_Write_Adaption_0x04FB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Std_ReturnType GW_Write_Adaption_0x04FB </td>
          <td>(</td>
          <td class="paramtype">const uint8 *&#160;</td>
          <td class="paramname"><em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dcm_OpStatusType&#160;</td>
          <td class="paramname"><em>OpStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dcm_NegativeResponseCodeType *&#160;</td>
          <td class="paramname"><em>ErrorCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function <b>GW_Write_Adaption_0x04FB</b> is called by DCM in order to write DID 0x04fb (adaptation channel - Roller_Test_Stand_Mode)</p>
<dl class="section pre"><dt>Precondition</dt><dd>DID configuration should be done in EB TRESOS. <br />
 Tester needs to request write adaptation 0x04FB for this function to be called.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called by DCM on request <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Data</td><td>Pointer to the data buffer. The new adaptation value that shall be written is taken from this buffer. <br />
 Range - KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE <br />
 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">OpStatus</td><td>NOT used <br />
 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ErrorCode</td><td>Via this pointer the negative response codes are transmitted to the caller of this function (DCM). <br />
 Range - DCM_E_CONDITIONSNOTCORRECT, DCM_E_GENERALREJECT, DCM_E_GENERALPROGRAMMINGFAILURE <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Std_ReturnType <br />
 Status of write request to NvM for adaptation channel 0x04FB <br />
 E_OK - Aadaption value was successfully written to NvM <br />
 E_NOT_OK - Write request to NvM failed (Details regarding failure are transmitted in parameter "ErrorCode") <br />
 DCM_E_PENDING - Write request to NvM is pending (waiting for NvM response) <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>T_GW_0x04FB_ANP GW_0x04FB_ANP. <br />
 This is Struct variable, Struct element "KRM_Active" holds the current value of DID 0x04FB.This is both input and output variable. <br />
 Range - KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE. <br />
 <br />
 DiagnosisWriteRequestStatus_t g_eADAPT_Status. <br />
 This contains status of the currently running adaptation.This is both input and output variable. <br />
 Range - DWRS_IDLE, DWRS_PENDING, DWRS_FINISHED, DWRS_FAILED (see &lt;&lt;enumeration&gt;&gt; DiagnosisWriteRequestStatus_t in EA) <br />
 <br />
 uint8 Adaption_Status_GW_0x04FB_ANP. <br />
 This contains NvM status of adaptation channel 0x04FB. This is output variable. <br />
 Range - Combination of following bit masks: Rte_StatusMask_NoError, Rte_StatusMask_InitialValue, Rte_StatusMask_TimeoutError. <br />
 <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>When tester writes 0x04FB, this function is called by the DCM. <br />
 In case of invalid input or improper precondtions, we receive NRC and adaptation change does not happen.</dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="GW_Write_Adaption_0x04FB_Activity.png" alt="GW_Write_Adaption_0x04FB_Activity.png"/>
<div class="caption">
Activity diagram of the function "GW_Write_Adaption_0x04FB"</div></div>
 <br />
 <div class="image">
<img src="GW_Write_Adaption_0x04FB_Sequence.png" alt="GW_Write_Adaption_0x04FB_Sequence.png"/>
<div class="caption">
Sequence diagram of the function "GW_Write_Adaption_0x04FB"</div></div>
 <br />
 </dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
 1)Equivalence class analysis (test of representative values from input range) <br />
 </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on request data, adaptation status and NVMwrite. <br />
 <a class="el" href="_k_r_m_activation_8c_8test.html#aa9eef089b3749c7670dfcedc5e50be3f">TEST_GW_Write_Adaption_0x04FB</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000012">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_72; SWR_L1_KRM_90; SWR_L1_KRM_73; SWR_L1_KRM_131; SWR_L1_KRM_91; SWR_L1_KRM_93; SWR_L1_KRM_132; SWR_L1_KRM_39; SWR_L1_KRM_137; SWR_L1_KRM_133; SWR_L1_KRM_134; SWR_L1_KRM_67; SWR_L1_KRM_136 SWR_ICAS1_GW_3919 <br />
 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l01218">1218</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="ab0efcce49b834d9b7dc821244de4d44a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0efcce49b834d9b7dc821244de4d44a">&#9670;&nbsp;</a></span>KRMInitialDTCCheck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void KRMInitialDTCCheck </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>KRM initial DTC consistency check, It is used to prevent from having DTC060911 active without KRM activated. </p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A <br />
 </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
 </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#ac9e85d5d754df6bed483385871d1e1bc">GW_KRM_ActivityMonitor</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td><br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>GW_DemEventId_060911: DEM Event ID for DTC 060911 (error in KRM); Input <br />
 GW_0x04FB_ANP.KRM_Active: State if adaptation channel 0x04FB (KRM active) is active; Input <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>Based on adaption, DTC 0x060911 state. If improperly DTC is active, it is reset.</dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="KRMInitialDTCCheck.png" alt="KRMInitialDTCCheck.png"/>
<div class="caption">
KRMInitialDTCCheck Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
 1) equivalence class analysis (test of representative values from input range) <br />
 </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on Voltage, DTC status and GW_0x04FB_ANP.KRM_Active value. <a class="el" href="_k_r_m_activation_8c_8test.html#a7815611e04f1f772267fe3d2d7258ad4">TEST_KRMInitialDTCCheck</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies following design decision: <br />
 Design Decision - Justification. <br />
<b>Design Decision</b>(see note inside EA diagram "KRM cyclic monitor"): <br />
&lt;&lt;architecture decision&gt;=""&gt;&gt; Because Adaptations are stored in NVM immediately, but DTC only on proper shutdown, there is a possibility to have inconstant situation in case of failure in previous Lifecycle - there will be failure bit set (GW_0x04FB_ANP.KRM_Failure), but DTC status will be wrong. Additionally, the KRM Failure status (DTC 060911 On and DTC 0-060918 Off), according to SWR, could be reset only by KRM deactivation request (0x04FB) with 0x00. To prevent this situation, if problem occurred and there was RESET, KRM Failure status will be recovered in next Lifecycle - DTC will be once again set to Active, without debouncing. Important info: GW_0x04FB_ANP.KRM_Failure bit is set when DTC 060911 is Active (Qualification time elapsed). </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00709">709</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a634c6987095a8daf6a056e841a2758dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a634c6987095a8daf6a056e841a2758dc">&#9670;&nbsp;</a></span>proceedKRMActiveState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Std_ReturnType proceedKRMActiveState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function proceeds KRM when it is in valid state. </p>
<dl class="section pre"><dt>Precondition</dt><dd>KL15 should be ON. <br />
 No failure occurred in KRM. <br />
 </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A <br />
 </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#ac9e85d5d754df6bed483385871d1e1bc">GW_KRM_ActivityMonitor</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Std_ReturnType; Returns E_OK in case of success, different value indicates an error <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>GW_DemEventId_060911: DEM Event ID for DTC 060911 (error in KRM); Input <br />
 GW_DemEventId_060918: DEM Event ID for DTC 060918 (error Konzernrollenmodus activ); Input <br />
 DEM_EVENT_STATUS_PREFAILED: start activating DTC (status) <br />
 DEM_EVENT_STATUS_PREPASSED: start deactivating DTC (status) <br />
 fiveMessagesCounterStart: Flag which is notify that ESC52 message counter should start; bool, output <br />
 FiveMessagesEsc52Occured: Flag which is notify about counter expired; bool, input and output <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>The left side of the diagram describes the error handling when Konzernrollenmode is in normal mode (active) <br />
 Status of error 060918 is to set, Status of error 060911 is to unset, storing error of Konzernrollenmode in non volatile memory. <br />
 The middle part of the diagram describes the error handling when Konzernrollenmode is to deactivate via 5 times receive of deactivation demands. <br />
Status of error 060918 is to unset, Status of error 060911 is to set, storing error of Konzernrollenmode in non volatile memory till error state 060911 is set. <br />
 The right part of the diagram describes the error handling when Konzernrollenmode is to deactivate via ESC_52 timeout (Signal for deactivation demands). <br />
Status of error 060918 is to unset, Status of error 060911 is to set, storing error of Konzernrollenmode in non volatile memory till error state 060911 is set. <br />
 </dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="proceedKRMActiveState.png" alt="proceedKRMActiveState.png"/>
<div class="caption">
proceedKRMActiveState Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
 1) equivalence class analysis (test of representative values from input range) <br />
 </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on global inputs, ESC_52 message and signal ESP_RollenModusDeaktivieren. <a class="el" href="_k_r_m_activation_8c_8test.html#aedfe97cfa635385b01982e59865ef5c7">TEST_proceedKRMActiveState</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000009">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_123; SWR_L1_KRM_39; SWR_L1_KRM_67 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00786">786</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a6c529e26ffa0394174667a3a4694d7f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c529e26ffa0394174667a3a4694d7f1">&#9670;&nbsp;</a></span>proceedRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Std_ReturnType proceedRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_k_r_m_activation_8c.html#a27bced42d9155a518da0ebf58579da84">T_KRM_RequestType</a>&#160;</td>
          <td class="paramname"><em>a_eRequestType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function <b>proceedRequest</b> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus) if adaption value changed AND conditions for activation resp. </p>
<p>deactivation are fullfilled. <br />
 Depending on activation or deactivation request it sets the event status of the DTCs 0x060918 and 0x060911 to either PREFAILED or PREPASSED <br />
 by calling the "Dem_SetEventStatus" service function. <br />
 </p><dl class="section pre"><dt>Precondition</dt><dd>All KRM preconditions should be met for this function to be invoked. <br />
 </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#a260e839828348ebf0833c190b43d2bac">GW_KRM_ProcessRequest</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a_eRequestType,Request</td><td>type (activation / deactivation) as extracted from DCM buffer for adaptation channel 0x04FB. <br />
 Value Range: 0-2. <br />
 Remark: eKRM_InvalidRequest shall be handled in the same way as eKRM_DeactivationRequest. <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Std_ReturnType <br />
Success of "setting the event status" as returned by the called service function "Dem_SetEventStatus" <br />
E_OK - setting of event status was successful <br />
E_NOT_OK - setting of event status failed or could not be accepted <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>T_GW_0x04FB_ANP GW_0x04FB_ANP <br />
 This is a Struct variable. Struct element "KRM_Failure" holds the currently monitored status of DTC 0x060911.</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>If input is received as "Activation request", then DTCs 0x060911, 0x060918 are accordingly set. If input is received as anything else, then DTCs are reset.</dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="proceedRequest.png" alt="proceedRequest.png"/>
<div class="caption">
Activity diagram of the function "proceedRequest"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
1) Equivalence class analysis (test of representative values from input range) <br />
</dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on input data (which type of write), conditions. <a class="el" href="_k_r_m_activation_8c_8test.html#add70183339812723e0066bb6a8697c80">TEST_proceedRequest</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000005">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_119; SWR_L1_KRM_111; SWR_L1_KRM_129; SWR_ICAS1_GW_3490; SWR_ICAS1_GW_3491 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l01019">1019</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a2367210944fe1f697d68d04a9a0ec29b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2367210944fe1f697d68d04a9a0ec29b">&#9670;&nbsp;</a></span>s_ESP_Rollenmodus_Deaktivieren_Message_Counter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s_ESP_Rollenmodus_Deaktivieren_Message_Counter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function counts the ESC_52 messages (to find out if Konzernrollenmodus is to deactivate). </p>
<p><br />
 called via CanIPDU_ESC_52_F_RcvIndication</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called by DiagTask through Rte_DreUpdateCoreGW <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Globals</dt><dd>fiveMessagesCounterStart [IN] : Flag which is notify that ESC52 message counter should start; bool, init value=false <br />
 FiveMessagesEsc52Occured [OUT]: Flag which is notify about counter expired; bool, init value=false. <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="s_ESP_Rollenmodus_Deaktivieren_Message_Counter.png" alt="s_ESP_Rollenmodus_Deaktivieren_Message_Counter.png"/>
<div class="caption">
s_ESP_Rollenmodus_Deaktivieren_Message_Counter Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using one of the following test methods: <br />
Equivalence class analysis (test of representative values from input range) <br />
 </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on fiveMessagesCounterStart,FiveMessagesEsc52Occured values. <a class="el" href="_k_r_m_activation_8c_8test.html#ad96cfca42be42a3ee937d20b3543e28b">TEST_s_ESP_Rollenmodus_Deaktivieren_Message_Counter</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000002">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_123 <br />
 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l01066">1066</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a2c22efda36dc35471d88b560510b619f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c22efda36dc35471d88b560510b619f">&#9670;&nbsp;</a></span>updateKRMSignals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Std_ReturnType updateKRMSignals </td>
          <td>(</td>
          <td class="paramtype">const boolean&#160;</td>
          <td class="paramname"><em>s_blRollenmodusAktiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boolean&#160;</td>
          <td class="paramname"><em>KRM_Fehler_im_Konzernrollenmodus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boolean&#160;</td>
          <td class="paramname"><em>KRM_Konzernrollenmodus_aktiv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function updates KRM output signals (for example for output on CAN). </p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#ac9e85d5d754df6bed483385871d1e1bc">GW_KRM_ActivityMonitor</a>, <a class="el" href="_k_r_m_activation_8c.html#a634c6987095a8daf6a056e841a2758dc">proceedKRMActiveState</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s_blRollenmodusAktiv</td><td>State of DTC KRM active, boolean, range: TRUE: active, FALSE: inactive <br />
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KRM_Fehler_im_Konzernrollenmodus</td><td>State of DTC KRM active, boolean, range: TRUE: active, FALSE: inactive <br />
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KRM_Konzernrollenmodus_aktiv</td><td>State of adaptation 0x04FB, boolean, range: TRUE: active, FALSE: inactive <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Std_ReturnType; Returns E_OK in case of success, otherwise E_NOT_OK <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>The DTCs 0x060918, 0x060911 and adaption 0x04FB state is written to DD. On successful write, E_OK is returned. </dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="updateKRMSignals.png" alt="updateKRMSignals.png"/>
<div class="caption">
updateKRMSignals Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using one of the following test methods: <br />
1)input-output-correlation, equivalence partitioning </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>1) Test if the right RTE_Write-functions are called with the correct arguments <br />
 2) Test if the function return value considers the return values of the called RTE_Write-functions <a class="el" href="_k_r_m_activation_8c_8test.html#ad5f9c2294822cd727ccccf2faf4e6f04">TEST_updateKRMSignals</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000010">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_127; SWR_L1_KRM_124 SWR_L1_KRM_121 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00847">847</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="ac0b25ba00de195d8e91c2a9c913cd2be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0b25ba00de195d8e91c2a9c913cd2be">&#9670;&nbsp;</a></span>writeKRMFailureActiveToNVM()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Std_ReturnType writeKRMFailureActiveToNVM </td>
          <td>(</td>
          <td class="paramtype">const boolean&#160;</td>
          <td class="paramname"><em>isDTCActive</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function saves state of KRM failer DTC to NVM. </p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A <br />
 </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context - called only by <a class="el" href="_k_r_m_activation_8c.html#a634c6987095a8daf6a056e841a2758dc">proceedKRMActiveState</a> <br />
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <br />
 multicore safe No - All APIs needs to be called from the same core 2 <br />
 synchronous - Data is processed right away.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">isDTCActive</td><td>State of DTC KRM active <br />
 boolean, range: TRUE: active, FALSE: inactive <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Std_ReturnType; Returns E_OK in case of success, otherwise E_NOT_OK <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>GW_0x04FB_ANP.KRM_Failure: State if KRM failure is active; Bit of uint8 structure, output <br />
 GW_0x04FB_ANP: Structure containing activation info for KRM; uint8 structure, output <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd>Based on input isDTCActive, write DTC state to NVM. If DTC is not active, do nothing and return E_OK. <br />
 </dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="writeKRMFailureActiveToNVM.png" alt="writeKRMFailureActiveToNVM.png"/>
<div class="caption">
writeKRMFailureActiveToNVM Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) test of boundary values <br />
 2) equivalence class analysis (test of representative values from input range) <br />
 </dd></dl>
<dl class="section user"><dt>Verification criteria</dt><dd>Test case shall be based on input data isDTCActive. <a class="el" href="_k_r_m_activation_8c_8test.html#a992ce06d9d7c3556d663095e7ba0cce3">TEST_writeKRMFailureActiveToNVM</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>Satisfies the following DOORS Requirements: </dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000008">Satisfies requirement:</a></b></dt><dd>SWR_L1_KRM_67;SWR_L1_KRM_136;SWR_L1_KRM_72 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00867">867</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aff44ee050945dea137035637cea5d5ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff44ee050945dea137035637cea5d5ca">&#9670;&nbsp;</a></span>fiveMessagesCounterStart</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean fiveMessagesCounterStart = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Flag which is to notify that counter should start. </p><dl class="section remark"><dt>Remarks</dt><dd>range True (1) - False (0) <br />
 values No special values. <br />
 unit Not Applicable. <br />
 resolution Not Applicable. <br />
 context called by functions s_ESP_Rollenmodus_Deaktivieren_Message_Counter, proceedKRMActiveState. <br />
 protection None <br />
 storage class normal <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00185">185</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
<a id="a070f452f437662a20ae84e3dcb6dff95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070f452f437662a20ae84e3dcb6dff95">&#9670;&nbsp;</a></span>FiveMessagesEsc52Occured</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean FiveMessagesEsc52Occured = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Flag which is notify about counter expired. Based on this flag value, DTC will be set. </p><dl class="section remark"><dt>Remarks</dt><dd>range True (1) - False (0) <br />
 values No special values. <br />
 unit Not Applicable. <br />
 resolution Not Applicable. <br />
 context called by functions s_ESP_Rollenmodus_Deaktivieren_Message_Counter, proceedKRMActiveState. <br />
 protection None <br />
 storage class normal <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_k_r_m_activation_8c_source.html#l00199">199</a> of file <a class="el" href="_k_r_m_activation_8c_source.html">KRMActivation.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13, 1.8.14-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer">
  <small>
    Generated on Fri Apr 29 2022 10:31:02 for SDD_KRM_Chorus by &#160;
    <a>
      <img class="footer" src="doxygen.png" alt="doxygen"/>
    </a>
    1.8.14<br>
    <a>
      <img class="footer" src="../conti.png" alt="continental"/>
    </a>
  </small>
</address>
</body>
</html>
