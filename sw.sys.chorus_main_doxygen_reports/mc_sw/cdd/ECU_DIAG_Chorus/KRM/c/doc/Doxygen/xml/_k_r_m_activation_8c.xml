<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.14">
  <compounddef id="_k_r_m_activation_8c" kind="file" language="C++">
    <compoundname>KRMActivation.c</compoundname>
    <includes refid="_k_r_m_activation_8h" local="yes">KRMActivation.h</includes>
    <includes local="yes">Dem_IntEvtId.h</includes>
    <includes local="yes">Dem_Types.h</includes>
    <includes local="yes">dem.h</includes>
    <includes local="yes">AdaptationsNvM.h</includes>
    <includes local="yes">ErrHdl_Voltage_Out_Of_Range_Error.h</includes>
    <includes local="yes">Dcm_Types.h</includes>
    <includes local="yes">GW_ANP_nvram.h</includes>
    <includes local="yes">Dcm_API_Cfg.h</includes>
    <includes local="yes">Adaptation.h</includes>
    <includes local="yes">NvM_Cfg.h</includes>
    <includes local="yes">NvM.h</includes>
    <includes local="yes">ConfigOsekMessages.h</includes>
    <includes local="yes">Rte_KRM.h</includes>
    <incdepgraph>
      <node id="15">
        <label>GW_ANP_nvram.h</label>
      </node>
      <node id="18">
        <label>NvM_Cfg.h</label>
      </node>
      <node id="14">
        <label>ErrHdl_Voltage_Out_Of_Range_Error.h</label>
      </node>
      <node id="8">
        <label>Dcm_Types.h</label>
      </node>
      <node id="6">
        <label>KRMActivation.c</label>
        <link refid="_k_r_m_activation_8c"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>KRMActivation.h</label>
        <link refid="_k_r_m_activation_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="21">
        <label>Rte_KRM.h</label>
      </node>
      <node id="16">
        <label>Dcm_API_Cfg.h</label>
      </node>
      <node id="17">
        <label>Adaptation.h</label>
      </node>
      <node id="10">
        <label>Dem_IntEvtId.h</label>
      </node>
      <node id="19">
        <label>NvM.h</label>
      </node>
      <node id="12">
        <label>dem.h</label>
      </node>
      <node id="9">
        <label>Std_Types.h</label>
      </node>
      <node id="11">
        <label>Dem_Types.h</label>
      </node>
      <node id="13">
        <label>AdaptationsNvM.h</label>
      </node>
      <node id="20">
        <label>ConfigOsekMessages.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="_k_r_m_activation_8c_1a5670e415ec3605775593c2d6eead68dd" prot="public" static="no">
        <name>KL15_ON</name>
        <initializer>0x01u</initializer>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>KL15 is On.</para><para>Other KL15 states to be ignored. This value is used in conditions to check if KL15 is ON or not. <simplesect kind="remark"><para>value 0x01u <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="83" column="9" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="83" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_k_r_m_activation_8c_1af7ab5ebfb1b021acad25af2edef74a15" prot="public" static="no">
        <name>RPM_QBIT_VALID</name>
        <initializer>0x00u</initializer>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>RPM Qualification bit is valid.</para><para>Other RPM_QM states to be ignored.This value is used in conditions to check if RPM_QM is 0 or not. <simplesect kind="remark"><para>value 0x00u <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="95" column="9" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="95" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_k_r_m_activation_8c_1a02524d7c8beab3a873ca4b2cbd5a6a20" prot="public" static="no">
        <name>FIVE_MESSAGES</name>
        <initializer>0x05u</initializer>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>Five message threshold.</para><para>Beyond threshold values can be ignored. <simplesect kind="remark"><para>value 0x05u <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="106" column="9" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="106" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_k_r_m_activation_8c_1a914e547a33dbe717bd9fc67f6a92982b" prot="public" static="no">
        <name>DTC_STATUS_TEST_FAILED</name>
        <initializer>0x01</initializer>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>Verification of DTC state.</para><para>This Mask value is used to detect if DTC is active or not. <simplesect kind="remark"><para>value 0x01u <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="116" column="9" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="116" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_k_r_m_activation_8c_1abc718b920bb9ec38080fa4c8633cfc03" prot="public" static="no">
        <name>KRM_INACTIVE_VALUE</name>
        <initializer>0x00u</initializer>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>KRM Inactive value.</para><para>This value is used in conditions to check if state of KRM is inactive or not. <simplesect kind="remark"><para>Value 0x00u <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="127" column="9" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="127" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_k_r_m_activation_8c_1a7ce850d6aa6d9544c9bbe638f4e861ea" prot="public" static="no">
        <name>KRM_ACTIVE_VALUE</name>
        <initializer>0x01u</initializer>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>KRM Active value.</para><para>This value is used in conditions to check if state of KRM is Active or not. <simplesect kind="remark"><para>Value 0x01u <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="138" column="9" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="138" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_k_r_m_activation_8c_1a8c9c8a03f497bb3ec9a7cf51b6ede10d" prot="public" static="no">
        <name>MESSAGE_0x04FB_ARRAY_SIZE</name>
        <initializer>1</initializer>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>Maximum KRM array size.</para><para>Elements beyond array size can be ignored. <simplesect kind="remark"><para>Value 1 <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="149" column="9" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="149" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="_k_r_m_activation_8c_1a27bced42d9155a518da0ebf58579da84" prot="public" static="no" strong="no">
        <type></type>
        <name>T_KRM_RequestType</name>
        <enumvalue id="_k_r_m_activation_8c_1a27bced42d9155a518da0ebf58579da84aa6fb2ec3a8f2155a7c26173323212bdc" prot="public">
          <name>eKRM_DeactivationRequest</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_k_r_m_activation_8c_1a27bced42d9155a518da0ebf58579da84abf9810aec619a6e097447b542f6579b4" prot="public">
          <name>eKRM_ActivationRequest</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_k_r_m_activation_8c_1a27bced42d9155a518da0ebf58579da84acc8e9f9b41cdf3a345f2b8e5015f0fa5" prot="public">
          <name>eKRM_InvalidRequest</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>This enum is on possible KRM write requests.</para><para>Based on the type of request, the adaption is set. <linebreak/>
 There are 3 possible requests - ActivationRequest, DeactivationRequest, InvalidRequest. <simplesect kind="remark"><para>range 0-2 <linebreak/>
 values No special values. <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="162" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="161" bodyend="166"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="_k_r_m_activation_8c_1a18946a016a1e95e1a84eb12e5452ea4c" prot="public" static="no">
        <type>enum <ref refid="_k_r_m_activation_8c_1a27bced42d9155a518da0ebf58579da84" kindref="member">T_KRM_RequestType</ref></type>
        <definition>typedef enum T_KRM_RequestType T_KRM_RequestType</definition>
        <argsstring></argsstring>
        <name>T_KRM_RequestType</name>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>This enum is on possible KRM write requests.</para><para>Based on the type of request, the adaption is set. <linebreak/>
 There are 3 possible requests - ActivationRequest, DeactivationRequest, InvalidRequest. <simplesect kind="remark"><para>range 0-2 <linebreak/>
 values No special values. <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="166" column="1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="_k_r_m_activation_8c_1aff44ee050945dea137035637cea5d5ca" prot="public" static="yes" mutable="no">
        <type>boolean</type>
        <definition>boolean fiveMessagesCounterStart</definition>
        <argsstring></argsstring>
        <name>fiveMessagesCounterStart</name>
        <initializer>=  0</initializer>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>Flag which is to notify that counter should start. <simplesect kind="remark"><para>range True (1) - False (0) <linebreak/>
 values No special values. <linebreak/>
 unit Not Applicable. <linebreak/>
 resolution Not Applicable. <linebreak/>
 context called by functions s_ESP_Rollenmodus_Deaktivieren_Message_Counter, proceedKRMActiveState. <linebreak/>
 protection None <linebreak/>
 storage class normal <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="185" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="185" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_k_r_m_activation_8c_1a070f452f437662a20ae84e3dcb6dff95" prot="public" static="yes" mutable="no">
        <type>boolean</type>
        <definition>boolean FiveMessagesEsc52Occured</definition>
        <argsstring></argsstring>
        <name>FiveMessagesEsc52Occured</name>
        <initializer>=  0</initializer>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>Flag which is notify about counter expired. Based on this flag value, DTC will be set. <simplesect kind="remark"><para>range True (1) - False (0) <linebreak/>
 values No special values. <linebreak/>
 unit Not Applicable. <linebreak/>
 resolution Not Applicable. <linebreak/>
 context called by functions s_ESP_Rollenmodus_Deaktivieren_Message_Counter, proceedKRMActiveState. <linebreak/>
 protection None <linebreak/>
 storage class normal <linebreak/>
</para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="199" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="199" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="_k_r_m_activation_8c_1a07111ed78796a62434eafc3ba1c7aa87" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="_k_r_m_activation_8c_1a27bced42d9155a518da0ebf58579da84" kindref="member">T_KRM_RequestType</ref></type>
        <definition>static T_KRM_RequestType getRequestType</definition>
        <argsstring>(const uint8 *data)</argsstring>
        <name>getRequestType</name>
        <param>
          <type>const uint8 *</type>
          <declname>data</declname>
        </param>
        <briefdescription>
<para>Gets request type from DCM buffer. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="pre"><para>Request write 0x04FB. </para></simplesect>
<simplesect kind="post"><para>N/A <linebreak/>
</para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1a260e839828348ebf0833c190b43d2bac" kindref="member">GW_KRM_ProcessRequest</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">data</parametername>
</parameternamelist>
<parameterdescription>
<para>Data to be processed, uint8 pointer to DCM place, where identification data will be stored, Value of data: 0x01u - Activation, 0x00u - Deactivation <linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>T_KRM_RequestType; Type of request, in case of error eKRM_InvalidRequest is returned: eKRM_ActivationRequest, eKRM_DeactivationRequest, eKRM_InvalidRequest.</para></simplesect>
<simplesect kind="par"><title>Globals</title><para>N/A <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>Based on type of write request requested by tester, the data is processed. If valid data is received, then either &apos;KRM to be activated&apos; or &apos;KRM to be deactivated&apos; will be returned. In case of error, then &apos;Invalid Request&apos; will be returned. This function is event based as it is invoked only upon write request. <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="getRequestType.png">getRequestType Activity Diagram</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
1) equivalence class analysis (test of representative values from input range) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on possible data inputs. <linebreak/>
 <ref refid="_k_r_m_activation_8c_8test_1a88e1c67366ea6c19b0c9049a96fd140c" kindref="member">TEST_getRequestType</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000003"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_118; SWR_L1_KRM_92 ;SWR_L1_KRM_91; SWR_L1_KRM_90</para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="249" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="885" bodyend="916"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1ac8b991d97ed7dc7588f399d278609cfd" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>boolean</type>
        <definition>static boolean areConditionsValid</definition>
        <argsstring>(T_KRM_RequestType a_eRequestType)</argsstring>
        <name>areConditionsValid</name>
        <param>
          <type><ref refid="_k_r_m_activation_8c_1a27bced42d9155a518da0ebf58579da84" kindref="member">T_KRM_RequestType</ref></type>
          <declname>a_eRequestType</declname>
        </param>
        <briefdescription>
<para>The function <bold>areConditionsValid</bold> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus). </para>        </briefdescription>
        <detaileddescription>
<para>It checks for the type of request (activation or deactivation) that is passed to it via function parameter &quot;a_eRequestType&quot; if all preconditions for <linebreak/>
 the requested adaptation are fullfilled and returns the result of the check. <linebreak/>
 <simplesect kind="pre"><para>N/A </para></simplesect>
<simplesect kind="post"><para>N/A </para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1a260e839828348ebf0833c190b43d2bac" kindref="member">GW_KRM_ProcessRequest</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">a_eRequestType</parametername>
<parametername direction="in">Request</parametername>
</parameternamelist>
<parameterdescription>
<para>type (activation / deactivation) as extracted from DCM buffer for adaptation channel 0x04FB. Value range is from 0-2. <linebreak/>
 Remark: eKRM_InvalidRequest (value 2) shall be handled in the same way as eKRM_DeactivationRequest. <linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>boolean <linebreak/>
 If all preconditions are fullfilled to perform the adaptation of DID 0x04FB with the request type given in &quot;a_eRequestType&quot; <linebreak/>
 TRUE - All conditions are met to trigger adaptation write process for the requested type (activation or deactivation) <linebreak/>
 FALSE - Not all conditions are fullfilled <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>N/A</para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>Condition check is performed. If all KRM preconditions are met, and Activation request is received, then KRM mode will get activated. If Condition check fails and Activation request is received, false is returned and KRM activation does not happen. In case of any error, default case is executed.</para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="areConditionsValid.png">Activity diagram of the function &quot;areConditionsValid&quot;</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
1)Equivalence class analysis (test of representative values from input range) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on request data, ESC52.Rollenmodus_Deaktivieren, RPM, KL15, speed, voltage. <linebreak/>
 <ref refid="_k_r_m_activation_8c_8test_1ac6b46a061a9abcb29720baa299a422ac" kindref="member">TEST_areConditionsValid</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000004"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_91; SWR_L1_KRM_90 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="300" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="919" bodyend="979"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1a6c529e26ffa0394174667a3a4694d7f1" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Std_ReturnType</type>
        <definition>static Std_ReturnType proceedRequest</definition>
        <argsstring>(T_KRM_RequestType a_eRequestType)</argsstring>
        <name>proceedRequest</name>
        <param>
          <type><ref refid="_k_r_m_activation_8c_1a27bced42d9155a518da0ebf58579da84" kindref="member">T_KRM_RequestType</ref></type>
          <declname>a_eRequestType</declname>
        </param>
        <briefdescription>
<para>The function <bold>proceedRequest</bold> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus) if adaption value changed AND conditions for activation resp. </para>        </briefdescription>
        <detaileddescription>
<para>deactivation are fullfilled. <linebreak/>
 Depending on activation or deactivation request it sets the event status of the DTCs 0x060918 and 0x060911 to either PREFAILED or PREPASSED <linebreak/>
 by calling the &quot;Dem_SetEventStatus&quot; service function. <linebreak/>
 <simplesect kind="pre"><para>All KRM preconditions should be met for this function to be invoked. <linebreak/>
 </para></simplesect>
<simplesect kind="post"><para>N/A</para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1a260e839828348ebf0833c190b43d2bac" kindref="member">GW_KRM_ProcessRequest</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">a_eRequestType</parametername>
<parametername direction="in">Request</parametername>
</parameternamelist>
<parameterdescription>
<para>type (activation / deactivation) as extracted from DCM buffer for adaptation channel 0x04FB. <linebreak/>
 Value Range: 0-2. <linebreak/>
 Remark: eKRM_InvalidRequest shall be handled in the same way as eKRM_DeactivationRequest. <linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Std_ReturnType <linebreak/>
Success of &quot;setting the event status&quot; as returned by the called service function &quot;Dem_SetEventStatus&quot; <linebreak/>
E_OK - setting of event status was successful <linebreak/>
E_NOT_OK - setting of event status failed or could not be accepted <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>T_GW_0x04FB_ANP GW_0x04FB_ANP <linebreak/>
 This is a Struct variable. Struct element &quot;KRM_Failure&quot; holds the currently monitored status of DTC 0x060911.</para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>If input is received as &quot;Activation request&quot;, then DTCs 0x060911, 0x060918 are accordingly set. If input is received as anything else, then DTCs are reset.</para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="proceedRequest.png">Activity diagram of the function &quot;proceedRequest&quot;</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
1) Equivalence class analysis (test of representative values from input range) <linebreak/>
</para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on input data (which type of write), conditions. <ref refid="_k_r_m_activation_8c_8test_1add70183339812723e0066bb6a8697c80" kindref="member">TEST_proceedRequest</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000005"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_119; SWR_L1_KRM_111; SWR_L1_KRM_129; SWR_ICAS1_GW_3490; SWR_ICAS1_GW_3491 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="354" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="1019" bodyend="1041"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1a22d81903aaa6b917660bb185e25dbd7f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>boolean</type>
        <definition>static boolean getDTCEventStatus</definition>
        <argsstring>(const Dem_EventIdType eventNumber)</argsstring>
        <name>getDTCEventStatus</name>
        <param>
          <type>const Dem_EventIdType</type>
          <declname>eventNumber</declname>
        </param>
        <briefdescription>
<para>The function <bold>getDTCEventStatus</bold> checks the status of a DTC and returns it. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="pre"><para>N/A</para></simplesect>
<simplesect kind="post"><para>N/A</para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1ab0efcce49b834d9b7dc821244de4d44a" kindref="member">KRMInitialDTCCheck</ref>, <ref refid="_k_r_m_activation_8c_1ac9e85d5d754df6bed483385871d1e1bc" kindref="member">GW_KRM_ActivityMonitor</ref>, <ref refid="_k_r_m_activation_8c_1a634c6987095a8daf6a056e841a2758dc" kindref="member">proceedKRMActiveState</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away. <linebreak/>
 </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">eventNumber</parametername>
</parameternamelist>
<parameterdescription>
<para>DEM event number related to a certain DTC <linebreak/>
 Expected Value Range - GW_DemEventId_060911, GW_DemEventId_060918 <linebreak/>
</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>boolean Status of the DTC related to the event ID passed to the function as argument in the parameter eventNumber <linebreak/>
 TRUE - Checked DTC is active <linebreak/>
 FALSE - Checked DTC is not active <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>N/A</para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>Based on input eventNumber, the DTC status is received from Dem.</para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="getDTCEventStatus_Activity.png">Activity diagram of the function &quot;getDTCEventStatus&quot;</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
1)Equivalence class analysis (test of representative values from input range) <linebreak/>
</para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on returnValue and expected DTC status. <ref refid="_k_r_m_activation_8c_8test_1a5c3b122f274bad7518ac44534b256d77" kindref="member">TEST_getDTCEventStatus</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000006"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_124,SWR_L1_KRM_121,SWR_L1_KRM_72 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="405" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="1044" bodyend="1060"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1adf3f87ac4ad41931e2065d14cefc510e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>boolean</type>
        <definition>static boolean checkConditions</definition>
        <argsstring>(void)</argsstring>
        <name>checkConditions</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>The function <bold>checkConditions</bold> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus). </para>        </briefdescription>
        <detaileddescription>
<para>This function checks if the preconditions valid for both - activation and deactivation of KRM - are fullfilled. <linebreak/>
 The check includes the following signals (common for activation and deactivation) but NOT the signal ESP_Rollenmodus_Deaktivieren: <linebreak/>
<orderedlist>
<listitem><para>KL15 = 0n</para></listitem><listitem><para>KL30 Voltage is in Operating Voltage Range</para></listitem><listitem><para>ESP_v_Signal = 0</para></listitem><listitem><para>MO_QBit_Drehzahl_01 = 0 (valid value)</para></listitem><listitem><para>MO_Drehzahl_01 = 0</para></listitem></orderedlist>
</para><para><simplesect kind="pre"><para>N/A</para></simplesect>
<simplesect kind="post"><para>N/A</para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1ac8b991d97ed7dc7588f399d278609cfd" kindref="member">areConditionsValid</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>void</parametername>
</parameternamelist>
<parameterdescription>
<para><linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>boolean <linebreak/>
 Info if ALL common preconditions for activation and deactivatation of KRM are fullfilled <linebreak/>
 TRUE - All common preconditions are fullfilled <linebreak/>
 FALSE - Not all common preconditions are fullfilled <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>N/A</para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>If all preconditions are met, function will return true, else false.</para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="checkConditions.png">Activity diagram of the function &quot;checkConditions&quot;</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
1)Equivalence class analysis (test of representative values from input range) <linebreak/>
</para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on request type, precondition inputs. <ref refid="_k_r_m_activation_8c_8test_1ade274b6c4a781091b66e5629d5ebfd08" kindref="member">TEST_checkConditions</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000007"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_91; SWR_L1_KRM_90 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="460" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="982" bodyend="1016"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1ac0b25ba00de195d8e91c2a9c913cd2be" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Std_ReturnType</type>
        <definition>static Std_ReturnType writeKRMFailureActiveToNVM</definition>
        <argsstring>(const boolean isDTCActive)</argsstring>
        <name>writeKRMFailureActiveToNVM</name>
        <param>
          <type>const boolean</type>
          <declname>isDTCActive</declname>
        </param>
        <briefdescription>
<para>This function saves state of KRM failer DTC to NVM. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="pre"><para>N/A</para></simplesect>
<simplesect kind="post"><para>N/A <linebreak/>
 </para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1a634c6987095a8daf6a056e841a2758dc" kindref="member">proceedKRMActiveState</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">isDTCActive</parametername>
</parameternamelist>
<parameterdescription>
<para>State of DTC KRM active <linebreak/>
 boolean, range: TRUE: active, FALSE: inactive <linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Std_ReturnType; Returns E_OK in case of success, otherwise E_NOT_OK <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>GW_0x04FB_ANP.KRM_Failure: State if KRM failure is active; Bit of uint8 structure, output <linebreak/>
 GW_0x04FB_ANP: Structure containing activation info for KRM; uint8 structure, output <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>Based on input isDTCActive, write DTC state to NVM. If DTC is not active, do nothing and return E_OK. <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="writeKRMFailureActiveToNVM.png">writeKRMFailureActiveToNVM Activity Diagram</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test methods: <linebreak/>
 1) test of boundary values <linebreak/>
 2) equivalence class analysis (test of representative values from input range) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on input data isDTCActive. <ref refid="_k_r_m_activation_8c_8test_1a992ce06d9d7c3556d663095e7ba0cce3" kindref="member">TEST_writeKRMFailureActiveToNVM</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000008"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_67;SWR_L1_KRM_136;SWR_L1_KRM_72 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="508" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="867" bodyend="882"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1a634c6987095a8daf6a056e841a2758dc" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Std_ReturnType</type>
        <definition>static Std_ReturnType proceedKRMActiveState</definition>
        <argsstring>(void)</argsstring>
        <name>proceedKRMActiveState</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>This function proceeds KRM when it is in valid state. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="pre"><para>KL15 should be ON. <linebreak/>
 No failure occurred in KRM. <linebreak/>
 </para></simplesect>
<simplesect kind="post"><para>N/A <linebreak/>
 </para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1ac9e85d5d754df6bed483385871d1e1bc" kindref="member">GW_KRM_ActivityMonitor</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>void</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Std_ReturnType; Returns E_OK in case of success, different value indicates an error <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>GW_DemEventId_060911: DEM Event ID for DTC 060911 (error in KRM); Input <linebreak/>
 GW_DemEventId_060918: DEM Event ID for DTC 060918 (error Konzernrollenmodus activ); Input <linebreak/>
 DEM_EVENT_STATUS_PREFAILED: start activating DTC (status) <linebreak/>
 DEM_EVENT_STATUS_PREPASSED: start deactivating DTC (status) <linebreak/>
 fiveMessagesCounterStart: Flag which is notify that ESC52 message counter should start; bool, output <linebreak/>
 FiveMessagesEsc52Occured: Flag which is notify about counter expired; bool, input and output <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>The left side of the diagram describes the error handling when Konzernrollenmode is in normal mode (active) <linebreak/>
 Status of error 060918 is to set, Status of error 060911 is to unset, storing error of Konzernrollenmode in non volatile memory. <linebreak/>
 The middle part of the diagram describes the error handling when Konzernrollenmode is to deactivate via 5 times receive of deactivation demands. <linebreak/>
Status of error 060918 is to unset, Status of error 060911 is to set, storing error of Konzernrollenmode in non volatile memory till error state 060911 is set. <linebreak/>
 The right part of the diagram describes the error handling when Konzernrollenmode is to deactivate via ESC_52 timeout (Signal for deactivation demands). <linebreak/>
Status of error 060918 is to unset, Status of error 060911 is to set, storing error of Konzernrollenmode in non volatile memory till error state 060911 is set. <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="proceedKRMActiveState.png">proceedKRMActiveState Activity Diagram</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
 1) equivalence class analysis (test of representative values from input range) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on global inputs, ESC_52 message and signal ESP_RollenModusDeaktivieren. <ref refid="_k_r_m_activation_8c_8test_1aedfe97cfa635385b01982e59865ef5c7" kindref="member">TEST_proceedKRMActiveState</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000009"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_123; SWR_L1_KRM_39; SWR_L1_KRM_67 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="563" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="786" bodyend="844"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1a2c22efda36dc35471d88b560510b619f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Std_ReturnType</type>
        <definition>static Std_ReturnType updateKRMSignals</definition>
        <argsstring>(const boolean s_blRollenmodusAktiv, const boolean KRM_Fehler_im_Konzernrollenmodus, const boolean KRM_Konzernrollenmodus_aktiv)</argsstring>
        <name>updateKRMSignals</name>
        <param>
          <type>const boolean</type>
          <declname>s_blRollenmodusAktiv</declname>
        </param>
        <param>
          <type>const boolean</type>
          <declname>KRM_Fehler_im_Konzernrollenmodus</declname>
        </param>
        <param>
          <type>const boolean</type>
          <declname>KRM_Konzernrollenmodus_aktiv</declname>
        </param>
        <briefdescription>
<para>This function updates KRM output signals (for example for output on CAN). </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="pre"><para>N/A </para></simplesect>
<simplesect kind="post"><para>N/A </para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1ac9e85d5d754df6bed483385871d1e1bc" kindref="member">GW_KRM_ActivityMonitor</ref>, <ref refid="_k_r_m_activation_8c_1a634c6987095a8daf6a056e841a2758dc" kindref="member">proceedKRMActiveState</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">s_blRollenmodusAktiv</parametername>
</parameternamelist>
<parameterdescription>
<para>State of DTC KRM active, boolean, range: TRUE: active, FALSE: inactive <linebreak/>
</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">KRM_Fehler_im_Konzernrollenmodus</parametername>
</parameternamelist>
<parameterdescription>
<para>State of DTC KRM active, boolean, range: TRUE: active, FALSE: inactive <linebreak/>
</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">KRM_Konzernrollenmodus_aktiv</parametername>
</parameternamelist>
<parameterdescription>
<para>State of adaptation 0x04FB, boolean, range: TRUE: active, FALSE: inactive <linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Std_ReturnType; Returns E_OK in case of success, otherwise E_NOT_OK <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>N/A <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>The DTCs 0x060918, 0x060911 and adaption 0x04FB state is written to DD. On successful write, E_OK is returned. </para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="updateKRMSignals.png">updateKRMSignals Activity Diagram</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using one of the following test methods: <linebreak/>
1)input-output-correlation, equivalence partitioning </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>1) Test if the right RTE_Write-functions are called with the correct arguments <linebreak/>
 2) Test if the function return value considers the return values of the called RTE_Write-functions <ref refid="_k_r_m_activation_8c_8test_1ad5f9c2294822cd727ccccf2faf4e6f04" kindref="member">TEST_updateKRMSignals</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000010"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_127; SWR_L1_KRM_124 SWR_L1_KRM_121 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="609" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="847" bodyend="864"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1ab0efcce49b834d9b7dc821244de4d44a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void KRMInitialDTCCheck</definition>
        <argsstring>(void)</argsstring>
        <name>KRMInitialDTCCheck</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>KRM initial DTC consistency check, It is used to prevent from having DTC060911 active without KRM activated. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="pre"><para>N/A <linebreak/>
 </para></simplesect>
<simplesect kind="post"><para>NA <linebreak/>
 </para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1ac9e85d5d754df6bed483385871d1e1bc" kindref="member">GW_KRM_ActivityMonitor</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>void</parametername>
</parameternamelist>
<parameterdescription>
<para><linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>void <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>GW_DemEventId_060911: DEM Event ID for DTC 060911 (error in KRM); Input <linebreak/>
 GW_0x04FB_ANP.KRM_Active: State if adaptation channel 0x04FB (KRM active) is active; Input <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>Based on adaption, DTC 0x060911 state. If improperly DTC is active, it is reset.</para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="KRMInitialDTCCheck.png">KRMInitialDTCCheck Activity Diagram</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
 1) equivalence class analysis (test of representative values from input range) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on Voltage, DTC status and GW_0x04FB_ANP.KRM_Active value. <ref refid="_k_r_m_activation_8c_8test_1a7815611e04f1f772267fe3d2d7258ad4" kindref="member">TEST_KRMInitialDTCCheck</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies following design decision: <linebreak/>
 Design Decision - Justification. <linebreak/>
<bold>Design Decision</bold>(see note inside EA diagram &quot;KRM cyclic monitor&quot;): <linebreak/>
&lt;&lt;architecture decision&gt;=&quot;&quot;&gt;&gt; Because Adaptations are stored in NVM immediately, but DTC only on proper shutdown, there is a possibility to have inconstant situation in case of failure in previous Lifecycle - there will be failure bit set (GW_0x04FB_ANP.KRM_Failure), but DTC status will be wrong. Additionally, the KRM Failure status (DTC 060911 On and DTC 0-060918 Off), according to SWR, could be reset only by KRM deactivation request (0x04FB) with 0x00. To prevent this situation, if problem occurred and there was RESET, KRM Failure status will be recovered in next Lifecycle - DTC will be once again set to Active, without debouncing. Important info: GW_0x04FB_ANP.KRM_Failure bit is set when DTC 060911 is Active (Qualification time elapsed). </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="660" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="709" bodyend="749"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1a260e839828348ebf0833c190b43d2bac" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Std_ReturnType</type>
        <definition>static Std_ReturnType GW_KRM_ProcessRequest</definition>
        <argsstring>(const uint8 *data, Dcm_NegativeResponseCodeType *errorCode)</argsstring>
        <name>GW_KRM_ProcessRequest</name>
        <param>
          <type>const uint8 *</type>
          <declname>data</declname>
        </param>
        <param>
          <type>Dcm_NegativeResponseCodeType *</type>
          <declname>errorCode</declname>
        </param>
        <briefdescription>
<para>The function <bold>GW_KRM_ProcessRequest</bold> is called in the context of the initial write request for adaption value 0x04FB (activation / deactivation of Konzernrollenmodus) if the new adaptation value is different from the current value. </para>        </briefdescription>
        <detaileddescription>
<para><linebreak/>
 <simplesect kind="pre"><para>KL15 must be ON and preconditions must be met for KRM activation to happen. <linebreak/>
 </para></simplesect>
<simplesect kind="post"><para>N/A <linebreak/>
 </para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called only by <ref refid="_k_r_m_activation_8c_1a61f149d9fa1bfd8604a13f935b4e6a8f" kindref="member">GW_Write_Adaption_0x04FB</ref> <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">data</parametername>
</parameternamelist>
<parameterdescription>
<para>Data to be processed, uint8 pointer, Value of data: 0x01u - Activation, 0x00u - Deactivation <linebreak/>
</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">errorCode</parametername>
</parameternamelist>
<parameterdescription>
<para>Error code for DCM, Dcm_NegativeResponseCodeType pointer <linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Std_ReturnType; Returns E_OK in case of success, different value indicates an error <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>N/A <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>Based on data, the request is processed. In case of any errors, then NRC is received. </para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="GW_KRM_ProcessRequest.png">GW_KRM_ProcessRequest Activity Diagram</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
<ref refid="_k_r_m_activation_8c_8test_1abf719c6826a10635787938332e7082c6" kindref="member">TEST_GW_KRM_ProcessRequest</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>1) equivalence class analysis (test of representative values from input range) <linebreak/>
Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000011"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_118; SWR_L1_KRM_92 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="703" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="752" bodyend="783"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1a2367210944fe1f697d68d04a9a0ec29b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void s_ESP_Rollenmodus_Deaktivieren_Message_Counter</definition>
        <argsstring>(void)</argsstring>
        <name>s_ESP_Rollenmodus_Deaktivieren_Message_Counter</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>This function counts the ESC_52 messages (to find out if Konzernrollenmodus is to deactivate). </para>        </briefdescription>
        <detaileddescription>
<para><linebreak/>
 called via CanIPDU_ESC_52_F_RcvIndication</para><para><simplesect kind="pre"><para>N/A</para></simplesect>
<simplesect kind="post"><para>N/A</para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called by DiagTask through Rte_DreUpdateCoreGW <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>void</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>void</para></simplesect>
<simplesect kind="par"><title>Globals</title><para>fiveMessagesCounterStart [IN] : Flag which is notify that ESC52 message counter should start; bool, init value=false <linebreak/>
 FiveMessagesEsc52Occured [OUT]: Flag which is notify about counter expired; bool, init value=false. <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>N/A</para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="s_ESP_Rollenmodus_Deaktivieren_Message_Counter.png">s_ESP_Rollenmodus_Deaktivieren_Message_Counter Activity Diagram</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using one of the following test methods: <linebreak/>
Equivalence class analysis (test of representative values from input range) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on fiveMessagesCounterStart,FiveMessagesEsc52Occured values. <ref refid="_k_r_m_activation_8c_8test_1ad96cfca42be42a3ee937d20b3543e28b" kindref="member">TEST_s_ESP_Rollenmodus_Deaktivieren_Message_Counter</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000002"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_123 <linebreak/>
 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="1066" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="1066" bodyend="1088"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1ac9e85d5d754df6bed483385871d1e1bc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Std_ReturnType</type>
        <definition>Std_ReturnType GW_KRM_ActivityMonitor</definition>
        <argsstring>(void)</argsstring>
        <name>GW_KRM_ActivityMonitor</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>The function <bold>GW_KRM_ActivityMonitor</bold> monitors if Konzernrollenmodus shall be still in active state. </para>        </briefdescription>
        <detaileddescription>
<para>It is cyclically called in DiagTask. <linebreak/>
 <simplesect kind="pre"><para>N/A</para></simplesect>
<simplesect kind="post"><para>N/A</para></simplesect>
<simplesect kind="remark"><para>reentrant - No <linebreak/>
 context - called by DiagTask <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>void</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Std_ReturnType <linebreak/>
 Returns E_OK in case of success, different value idicates an error <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>T_GW_0x04FB_ANP GW_0x04FB_ANP <linebreak/>
This is Struct variable, Struct element &quot;KRM_Active&quot; holds the current value of DID 0x04FB.This is both input and output variable. Range - KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE.</para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>Called every 10ms by DiagTask. </para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="GW_KRM_ActivityMonitor.png">GW_KRM_ActivityMonitor Activity Diagram</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using one of the following test methods: <linebreak/>
 Equivalence class analysis (test of representative values from input range) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on ESC52 message, ESC52.ESP_Rollenmodus_Deaktivieren, adaptation status, KL15 state. <linebreak/>
 <ref refid="_k_r_m_activation_8c_8test_1a15a95e0e502cbfe34db39adf41eccfec" kindref="member">TEST_GW_KRM_ActivityMonitor</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000001"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_39; SWR_L1_KRM_128; SWR_L1_KRM_137; SWR_L1_KRM_123; SWR_L1_KRM_121; SWR_L1_KRM_133; SWR_L1_KRM_67; SWR_L1_KRM_136 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="1091" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="1091" bodyend="1147"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1a61f149d9fa1bfd8604a13f935b4e6a8f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Std_ReturnType</type>
        <definition>Std_ReturnType GW_Write_Adaption_0x04FB</definition>
        <argsstring>(const uint8 *Data, Dcm_OpStatusType OpStatus, Dcm_NegativeResponseCodeType *ErrorCode)</argsstring>
        <name>GW_Write_Adaption_0x04FB</name>
        <param>
          <type>const uint8 *</type>
          <declname>Data</declname>
        </param>
        <param>
          <type>Dcm_OpStatusType</type>
          <declname>OpStatus</declname>
        </param>
        <param>
          <type>Dcm_NegativeResponseCodeType *</type>
          <declname>ErrorCode</declname>
        </param>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>The function <bold>GW_Write_Adaption_0x04FB</bold> is called by DCM in order to write DID 0x04fb (adaptation channel - Roller_Test_Stand_Mode)</para><para><simplesect kind="pre"><para>DID configuration should be done in EB TRESOS. <linebreak/>
 Tester needs to request write adaptation 0x04FB for this function to be called.</para></simplesect>
<simplesect kind="post"><para>N/A</para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called by DCM on request <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">Data</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the data buffer. The new adaptation value that shall be written is taken from this buffer. <linebreak/>
 Range - KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE <linebreak/>
 </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">OpStatus</parametername>
</parameternamelist>
<parameterdescription>
<para>NOT used <linebreak/>
 </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">ErrorCode</parametername>
</parameternamelist>
<parameterdescription>
<para>Via this pointer the negative response codes are transmitted to the caller of this function (DCM). <linebreak/>
 Range - DCM_E_CONDITIONSNOTCORRECT, DCM_E_GENERALREJECT, DCM_E_GENERALPROGRAMMINGFAILURE <linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Std_ReturnType <linebreak/>
 Status of write request to NvM for adaptation channel 0x04FB <linebreak/>
 E_OK - Aadaption value was successfully written to NvM <linebreak/>
 E_NOT_OK - Write request to NvM failed (Details regarding failure are transmitted in parameter &quot;ErrorCode&quot;) <linebreak/>
 DCM_E_PENDING - Write request to NvM is pending (waiting for NvM response) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>T_GW_0x04FB_ANP GW_0x04FB_ANP. <linebreak/>
 This is Struct variable, Struct element &quot;KRM_Active&quot; holds the current value of DID 0x04FB.This is both input and output variable. <linebreak/>
 Range - KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE. <linebreak/>
 <linebreak/>
 DiagnosisWriteRequestStatus_t g_eADAPT_Status. <linebreak/>
 This contains status of the currently running adaptation.This is both input and output variable. <linebreak/>
 Range - DWRS_IDLE, DWRS_PENDING, DWRS_FINISHED, DWRS_FAILED (see &lt;&lt;enumeration&gt;&gt; DiagnosisWriteRequestStatus_t in EA) <linebreak/>
 <linebreak/>
 uint8 Adaption_Status_GW_0x04FB_ANP. <linebreak/>
 This contains NvM status of adaptation channel 0x04FB. This is output variable. <linebreak/>
 Range - Combination of following bit masks: Rte_StatusMask_NoError, Rte_StatusMask_InitialValue, Rte_StatusMask_TimeoutError. <linebreak/>
 <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>When tester writes 0x04FB, this function is called by the DCM. <linebreak/>
 In case of invalid input or improper precondtions, we receive NRC and adaptation change does not happen.</para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="GW_Write_Adaption_0x04FB_Activity.png">Activity diagram of the function &quot;GW_Write_Adaption_0x04FB&quot;</image>
 <linebreak/>
 <image type="html" name="GW_Write_Adaption_0x04FB_Sequence.png">Sequence diagram of the function &quot;GW_Write_Adaption_0x04FB&quot;</image>
 <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
 1)Equivalence class analysis (test of representative values from input range) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on request data, adaptation status and NVMwrite. <linebreak/>
 <ref refid="_k_r_m_activation_8c_8test_1aa9eef089b3749c7670dfcedc5e50be3f" kindref="member">TEST_GW_Write_Adaption_0x04FB</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000012"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_72; SWR_L1_KRM_90; SWR_L1_KRM_73; SWR_L1_KRM_131; SWR_L1_KRM_91; SWR_L1_KRM_93; SWR_L1_KRM_132; SWR_L1_KRM_39; SWR_L1_KRM_137; SWR_L1_KRM_133; SWR_L1_KRM_134; SWR_L1_KRM_67; SWR_L1_KRM_136 SWR_ICAS1_GW_3919 <linebreak/>
 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="1218" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="1218" bodyend="1293"/>
      </memberdef>
      <memberdef kind="function" id="_k_r_m_activation_8c_1a4184ef69a07f540d782ffe89a69c10a2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Std_ReturnType</type>
        <definition>Std_ReturnType GW_Read_Adaption_0x04FB</definition>
        <argsstring>(Dcm_OpStatusType OpStatus, uint8 *Data)</argsstring>
        <name>GW_Read_Adaption_0x04FB</name>
        <param>
          <type>Dcm_OpStatusType</type>
          <declname>OpStatus</declname>
        </param>
        <param>
          <type>uint8 *</type>
          <declname>Data</declname>
        </param>
        <briefdescription>
<para><hruler/>
 </para>        </briefdescription>
        <detaileddescription>
<para>The function <bold>GW_Read_Adaption_0x04FB</bold> provides the current value of DID 0x04fb (adaptation channel - Roller_Test_Stand_Mode)</para><para><simplesect kind="pre"><para>DID configuration should be done in EB TRESOS. Tester needs to request read adaptation 0x04FB for this function to be called.</para></simplesect>
<simplesect kind="post"><para>N/A</para></simplesect>
<simplesect kind="remark"><para>reentrant No <linebreak/>
 context - called by DCM <linebreak/>
 thread safe Yes - Can be interrupted. Not protected by resume and suspend interrupts. <linebreak/>
 multicore safe No - All APIs needs to be called from the same core 2 <linebreak/>
 synchronous - Data is processed right away.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">OpStatus</parametername>
</parameternamelist>
<parameterdescription>
<para>NOT used (Parameter is available due to Tresos configuration, Must be accepted as is.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">Data</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the data buffer. The current value of the adaptation channel is written via pointer to this buffer. <linebreak/>
Value range - KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE <linebreak/>
 </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Std_ReturnType <linebreak/>
 If adaptation value was provicded successfully to the caller of this function. <linebreak/>
 E_OK - adaption value was passed successfully to data buffer <linebreak/>
 E_NOT_OK - value could not be passed to data buffer <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Globals</title><para>T_GW_0x04FB_ANP GW_0x04FB_ANP <linebreak/>
 This ia a struct variable. Struct element &quot;KRM_Active&quot; holds the current value of DID 0x04FB. <linebreak/>
 Range of the variable is KRM_INACTIVE_VALUE, KRM_ACTIVE_VALUE. <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Input-&gt;Output-Correlation</title><para>When tester reads 0x04FB, this function is called by the DCM. <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Call Sequence</title><para><image type="html" name="GW_Read_Adaption_0x04FB.png">Activity diagram of the function &quot;GW_Read_Adaption_0x04FB&quot;</image>
</para></simplesect>
<simplesect kind="par"><title>Test Method</title><para>This function can be verified using the following test method: <linebreak/>
1) Equivalence class analysis (test of representative values from input range) <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Verification criteria</title><para>Test case shall be based on GW_0x04FB_ANP.KRM_Active,GW_0x04FB_ANP.KRM_Failure. <linebreak/>
 <ref refid="_k_r_m_activation_8c_8test_1afcc23043633c00d94ad6967f525a3f6a" kindref="member">TEST_GW_Read_Adaption_0x04FB</ref> <linebreak/>
 </para></simplesect>
<simplesect kind="par"><title>Traceability</title><para>Satisfies the following DOORS Requirements: </para></simplesect>
<xrefsect id="satisfy_1_satisfy000013"><xreftitle>Satisfies requirement</xreftitle><xrefdescription><para>SWR_L1_KRM_68 SWR_ICAS1_GW_3919 </para></xrefdescription></xrefsect></para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" line="1347" column="1" bodyfile="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c" bodystart="1347" bodyend="1366"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>This file contains the code for KRM_Chorus functionality. </para>    </briefdescription>
    <detaileddescription>
<para><simplesect kind="rcs"><title>Source</title><para><ref refid="_k_r_m_activation_8c" kindref="compound">KRMActivation.c</ref> </para></simplesect>
<simplesect kind="rcs"><title>Revision</title><para>#7 </para></simplesect>
<simplesect kind="rcs"><title>Author</title><para>uic18224 </para></simplesect>
<simplesect kind="rcs"><title>DateTime</title><para>2021/02/12 04:23:34 </para></simplesect>
</para><para>The unit handles the state machine,condition checks and read-write requests. <linebreak/>
Contains declarations of functions,variables used only within the module. <linebreak/>
<simplesect kind="par"><title>Verification criteria</title><para>Include own header file <ref refid="_k_r_m_activation_8h" kindref="compound">KRMActivation.h</ref> in the testcase file (SWATT). <linebreak/>
Add software requirement IDs in the testcases. <linebreak/>
Expected test coverage (100%) and type of test coverage is C1. <linebreak/>
<linebreak/>
</para></simplesect>
</para>    </detaileddescription>
    <location file="D:/My_SandBoxes/B_S/VW/ICAS_Git/sw.sys.chorus_main_build/mc_sw/cdd/ECU_DIAG_Chorus/KRM/c/src/KRMActivation.c"/>
  </compounddef>
</doxygen>
