<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.14">
  <compounddef id="xslstylesheets" kind="page">
    <compoundname>xslstylesheets</compoundname>
    <title>XSL stylesheets</title>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<sect1 id="xslstylesheets_1xslt">
<title>XSLT</title>
<para>In short XSLT is language used to transform XML files into other files. For more information please visit for e.g. <ulink url="https://en.wikipedia.org/wiki/XSLT">XSLT Wikipedia</ulink></para><para>For XSLT syntax you can use various pages on the internet like W3schools.org etc.</para></sect1>
<sect1 id="xslstylesheets_1bapxslt">
<title>BAP XSL stylesheets</title>
<para>In this section <ref refid="bap__rte_8c_8xsl" kindref="compound">bap_rte.c.xsl</ref> will be walk through to explain what is happening during XSLT processing and how XSL stylesheets works.</para><para>Each xsl file starts with loading of xml themes and import of <ref refid="bap__utils_8xsl" kindref="compound">bap_utils.xsl</ref> and some additional parameters like dateOfGeneration and fileName. <programlisting filename=".xml"><codeline><highlight class="normal">&lt;</highlight><highlight class="keywordtype">xsl:stylesheet</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">xmlns:xsl</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;http://www.w3.org/1999/XSL/Transform&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">xmlns:xs</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">xmlns:functx</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;http://www.functx.com&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">xmlns:bap</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;http://bap.com&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">xmlns:exslt</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;http://exslt.org/common&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">xmlns:saxon</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;http://saxon.sf.net/&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">xmlns:xsi</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">extension-element-prefixes</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;saxon&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">exclude-result-prefixes</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;exslt<sp/>saxon<sp/>functx&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">version</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;2.0&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">&lt;!--<sp/>Importing<sp/>bap_utils.xsl<sp/>for<sp/>helper<sp/>funtions<sp/>--&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:import</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">href</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;bap_utils.xsl&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:output</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">method</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;text&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">version</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;1.0&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">encoding</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;UTF-8&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">indent</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;yes&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:param</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;dateOfGeneration&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:param</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;fileName&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;DEBUG&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;false()&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:template</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">match</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;/&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
</programlisting></para><para><linebreak/>
 after file template is provided, xslt processor goes through for-each with selection of <emphasis><bold>//FLsg</bold></emphasis>.<linebreak/>
This will load into buffer all &lt;FLSG&gt; tags. <programlisting filename=".xml"><codeline><highlight class="comment">&lt;!--<sp/>Searching<sp/>through<sp/>each<sp/>FSG<sp/>--&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">&lt;</highlight><highlight class="keywordtype">xsl:for-each</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;//FLsg&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;componentName&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;@name&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;localNode&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;lsgType&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;&apos;FSG&apos;&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;localId&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;./@id&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
</programlisting></para><para><linebreak/>
 Provide interfaces are generated for each FLsg <programlisting filename=".xml"><codeline><highlight class="normal">/*<sp/>=====================================================================================================================</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$componentName&quot;</highlight><highlight class="normal">/&gt;<sp/></highlight><highlight class="keyword">BAP</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">INTERFACES</highlight><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/>=====================================================================================================================<sp/>*/</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">&lt;!--<sp/>Generating<sp/>Provide<sp/>interface<sp/>for<sp/>each<sp/>LSG<sp/>--&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>\</highlight><highlight class="keyword">fn</highlight><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">void</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">Provide_Bap_</highlight><highlight class="normal">&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$componentName&quot;</highlight><highlight class="normal">/&gt;</highlight><highlight class="keyword">_State</highlight><highlight class="normal">(</highlight><highlight class="keyword">boolean</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">LSGState</highlight><highlight class="normal">)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>\</highlight><highlight class="keyword">brief</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">SW_C</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">requests</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">to</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">BAP</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">stack</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>\</highlight><highlight class="keyword">remarks</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">See</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">customer</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">requirements</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">for</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">the</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">function</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">description.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>\</highlight><highlight class="keyword">ingroup</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">SW_C_INTEGRATION_SW_C_TO_BAP</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">*/</highlight></codeline>
<codeline><highlight class="normal">#</highlight><highlight class="keyword">ifndef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">PROVIDE_BAP_</highlight><highlight class="normal">&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;upper-case($componentName)&quot;</highlight><highlight class="normal">/&gt;</highlight><highlight class="keyword">_STATE</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">/*<sp/></highlight><highlight class="keyword">TRACE_REQUIREMENT</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">SWR_ICAS1_L3_CRoute_BAP_451</highlight><highlight class="normal"><sp/>,<sp/>16/07/2020,<sp/></highlight><highlight class="keyword">WoSo</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">Partial</highlight><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">void</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">Provide_Bap_</highlight><highlight class="normal">&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$componentName&quot;</highlight><highlight class="normal">/&gt;</highlight><highlight class="keyword">_State</highlight><highlight class="normal">(</highlight><highlight class="keyword">boolean</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">LSGState</highlight><highlight class="normal">)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>*</highlight><highlight class="keyword">LSGState</highlight><highlight class="normal"><sp/>=<sp/>(</highlight><highlight class="keyword">boolean</highlight><highlight class="normal">)</highlight><highlight class="keyword">BAP_GetLsgState</highlight><highlight class="normal">(</highlight><highlight class="keyword">BapLsg_</highlight><highlight class="normal">&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$componentName&quot;</highlight><highlight class="normal">/&gt;);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">#</highlight><highlight class="keyword">endif</highlight></codeline>
</programlisting></para><para>Thanks to first for-each, this Provide interface will be generated for each FLsg tag found in BAP Config XML.<linebreak/>
<linebreak/>
 Next XSLT processor will go through each &lt;Fct&gt;. For each Fct, variables like id and function name are stored. Additionally from &lt;TX&gt; parameters opCode and dataType is stored in related variables. <programlisting filename=".xml"><codeline><highlight class="comment">&lt;!--<sp/>Find<sp/>and<sp/>loop<sp/>through<sp/>each<sp/>function<sp/>in<sp/>FSG<sp/>--&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:for-each</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;.//Fct[bap:ignoreFct(.)<sp/>=<sp/>false()]&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:if</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">test</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$DEBUG<sp/>=<sp/>true()&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:message</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:copy-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">xsl:message</highlight><highlight class="normal">&gt;<sp/><sp/></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">xsl:if</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;id&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;@id&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;functionName&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;@name&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;opCode&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;.//TX/@opCode&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;dataType&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;.//TX/@dataType&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;functionClass&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;bap:getFunctionClass(.)&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">&lt;!--<sp/>Get<sp/>all<sp/>operations<sp/>(like<sp/>InitSendBuffer,<sp/>Status,<sp/>Error<sp/>etc.)<sp/>--&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;operations&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;bap:getRequestOperations($id,<sp/>$lsgType,<sp/>$componentName,<sp/>$opCode,$functionClass,<sp/>$dataType)&quot;</highlight><highlight class="normal"><sp/>/&gt;</highlight></codeline>
</programlisting></para><para>Last 2 variables are functionClass and operations. These calls functions defined in bap_utils.xml<linebreak/>
&apos;bap:getFunctionClass(.)&apos; returns information of BAP function type (Property, Cache, Method, Array) to be used in next function.<linebreak/>
&apos;bap:getRequestOperations&apos; creates an array of elements with all required operations for specific BAP function</para><para><linebreak/>
 for each BAP function and each required operation for BAP function an RTE function is being generated. <programlisting filename=".xml"><codeline><highlight class="normal">*<sp/>&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$functionName&quot;</highlight><highlight class="normal">/&gt;<sp/>*/</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">&lt;!--<sp/>Loop<sp/>through<sp/>each<sp/>operation<sp/>and<sp/>generate<sp/>RTE<sp/>Call<sp/>for<sp/>it<sp/>--&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:for-each</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$operations&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;operation&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal"><sp/>/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:variable</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;prototype&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;concat(bap:getRequestCallFunction($componentName,<sp/>$functionName,<sp/>$operation,<sp/>$dataType,<sp/>$functionClass),<sp/>&apos;(&apos;,<sp/>bap:getRequestCallParameters($operation,<sp/>$dataType),&apos;)&apos;)&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal">...</highlight></codeline>
</programlisting></para><para>Here another helper functions are provided in <ref refid="bap__utils_8xsl" kindref="compound">bap_utils.xsl</ref> to be used in other xsl files or for better readability.</para></sect1>
<sect1 id="xslstylesheets_1bapxsltBapUtils">
<title>bap_utils.xsl</title>
<para>This file consists of helper functions used in other xsls in order to get satisfied output from the xsl.</para><para>This file was mainly created based on BAP protocol specification V1.50, with some tweaks to fit into ICAS1 project and be more up to date with current BAP protocol specification (V1.94).</para><para>For what each function is doing or providing please refer to in code comments.<linebreak/>
Each function have a short description, input and output information to easily find what specific function is doing.</para><para>Examples from <ref refid="bap__utils_8xsl" kindref="compound">bap_utils.xsl</ref>: <programlisting filename=".xml"><codeline><highlight class="normal">&lt;</highlight><highlight class="keywordtype">xsl:function</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;bap:getRequestOperationName&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:param</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;operation&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:param</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;dataType&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:param</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">name</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;functionClass&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:choose</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:when</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">test</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$operation<sp/>=<sp/>&apos;Data_CNF&apos;<sp/>and<sp/>$functionClass<sp/>=<sp/>&apos;Array&apos;&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;&apos;Status&apos;&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">xsl:when</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:when</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">test</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$operation<sp/>=<sp/>&apos;Data_CNF&apos;&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;&apos;Status&apos;&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">xsl:when</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:when</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">test</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$operation<sp/>=<sp/>&apos;DataAck_CNF&apos;&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;&apos;StatusAck&apos;&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">xsl:when</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:when</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">test</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;$operation<sp/>=<sp/>&apos;Changed_REQ&apos;&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;&apos;ChangedArray&apos;&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">xsl:when</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:otherwise</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;</highlight><highlight class="keywordtype">xsl:value-of</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">select</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;replace($operation,<sp/>&apos;(_REQ|_CNF)&apos;,<sp/>&apos;&apos;)&quot;</highlight><highlight class="normal">/&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">xsl:otherwise</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&lt;/</highlight><highlight class="keywordtype">xsl:choose</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline><highlight class="normal">&lt;/</highlight><highlight class="keywordtype">xsl:function</highlight><highlight class="normal">&gt;</highlight></codeline>
</programlisting> Function &apos;getRequestOperationName&apos; outputs given suffix for the RTE function name dependingly on the configured operation taken from BAP Config XML </para></sect1>
    </detaileddescription>
  </compounddef>
</doxygen>
