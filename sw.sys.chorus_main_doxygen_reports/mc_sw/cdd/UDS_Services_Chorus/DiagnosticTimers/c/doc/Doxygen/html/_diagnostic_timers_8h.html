<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDD_DiagnosticTimers: DiagnosticTimers.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDD_DiagnosticTimers
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_555faaf16ed2c6601ac2bd79e42789e9.html">sw.sys.chorus_main_build</a></li><li class="navelem"><a class="el" href="dir_8c5bb8e6017a091611255f5df25847cf.html">mc_sw</a></li><li class="navelem"><a class="el" href="dir_0e57bb0d22386323bf9524ba12bdb1ae.html">cdd</a></li><li class="navelem"><a class="el" href="dir_3a6dd833d7d9152a8ad25671861a2fd9.html">UDS_Services_Chorus</a></li><li class="navelem"><a class="el" href="dir_878ea9fa8035e7fd3921449a94b45834.html">DiagnosticTimers</a></li><li class="navelem"><a class="el" href="dir_e3081e6e1fc918a72f74d2b110104743.html">c</a></li><li class="navelem"><a class="el" href="dir_f3a3fa361921fcae61086cb18baaa6f3.html">inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">DiagnosticTimers.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>short description in one sentence end with dot.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
Include dependency graph for DiagnosticTimers.h:</div>
<div class="dyncontent">
<div class="center"><img src="_diagnostic_timers_8h__incl.png" border="0" usemap="#_diagnostic_timers_8h" alt=""/></div>
<map name="_diagnostic_timers_8h" id="_diagnostic_timers_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_diagnostic_timers_8h__dep__incl.png" border="0" usemap="#_diagnostic_timers_8hdep" alt=""/></div>
<map name="_diagnostic_timers_8hdep" id="_diagnostic_timers_8hdep">
<area shape="rect" id="node2" href="_diagnostic_timers_8c.html" title="Implementation of diagnostic timers &#45; NM_DiagActive, T_DiagEnable, KL15 timer for Driving Cycle valid..." alt="" coords="5,80,139,107"/>
</map>
</div>
</div>
<p><a href="_diagnostic_timers_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0535182aa788581f2fd447ace195f609"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#a0535182aa788581f2fd447ace195f609">SI_DIAGNOSEAKTIV_TIMER_START_VALUE</a>&#160;&#160;&#160;400u</td></tr>
<tr class="memdesc:a0535182aa788581f2fd447ace195f609"><td class="mdescLeft">&#160;</td><td class="mdescRight">4000ms/10ms UdsTask cycle  <a href="#a0535182aa788581f2fd447ace195f609">More...</a><br /></td></tr>
<tr class="separator:a0535182aa788581f2fd447ace195f609"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ad4f8bb5e646e709aafeed7b8436ce725"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725">TimerState</a> { <br />
&#160;&#160;<a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725ae7fa8ba17d660a7fab0d84c5786ee181">TIMER_ELAPSED</a> = 0, 
<br />
&#160;&#160;<a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725abc4495967cdeae935ea31fa8c3992139">TIMER_RUNNING</a>, 
<br />
&#160;&#160;<a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725a43e3cac5581da1706bdddb64c93bbe12">TIMER_STOPPED</a>, 
<br />
&#160;&#160;<a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725a0b0a1aa1c812a7c813c705922f57d0e1">TIMER_RESTARTED</a>
<br />
 }</td></tr>
<tr class="separator:ad4f8bb5e646e709aafeed7b8436ce725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31a9e4f62abf9ad8102e2d75cdb00661"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661">ConditionVehicleSpeed</a> { <br />
&#160;&#160;<a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661a9e1b634c4e09fb9309c8e242fa8d0413">PASSED</a> = 0, 
<br />
&#160;&#160;<a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661aecedb56d1405a60c6069f4a0139bdec5">FAILED</a> = 1
<br />
 }</td></tr>
<tr class="separator:a31a9e4f62abf9ad8102e2d75cdb00661"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab954fd25de6ab2a574a979895963b393"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725">TimerState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#ab954fd25de6ab2a574a979895963b393">getStateKL15TimerForDrivingCycle</a> (void)</td></tr>
<tr class="memdesc:ab954fd25de6ab2a574a979895963b393"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>getStateKL15TimerForDrivingCycle</b> just returns the status of the "KL15 timer for driving cycle".  <a href="#ab954fd25de6ab2a574a979895963b393">More...</a><br /></td></tr>
<tr class="separator:ab954fd25de6ab2a574a979895963b393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99435893ecdcf2570cda96d7b58f8c2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661">ConditionVehicleSpeed</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#a99435893ecdcf2570cda96d7b58f8c2a">getConditionVehicleSpeed</a> (void)</td></tr>
<tr class="memdesc:a99435893ecdcf2570cda96d7b58f8c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>getConditionVehicleSpeed</b> just returns the validation status of vehicle speed processing which is verified cyclically (every 100 ms) <br />
 Background: Some diagnosis services require preconditions to be fulfilled, in order to allow their execution.  <a href="#a99435893ecdcf2570cda96d7b58f8c2a">More...</a><br /></td></tr>
<tr class="separator:a99435893ecdcf2570cda96d7b58f8c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb8bda9524bc2ad46335af38f5ecb4b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#abb8bda9524bc2ad46335af38f5ecb4b5">DiagnosticTimersSetDefaultSessionState</a> (boolean state)</td></tr>
<tr class="memdesc:abb8bda9524bc2ad46335af38f5ecb4b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>DiagnosticTimersSetDefaultSessionState</b> is called when the diagnosis session changes, for example due to request of Service "Diagnostic Session Control" (SID 10hex) by the diagnosis tester (client).  <a href="#abb8bda9524bc2ad46335af38f5ecb4b5">More...</a><br /></td></tr>
<tr class="separator:abb8bda9524bc2ad46335af38f5ecb4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c2f4ab26568847fa7914f9808c8f5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#a33c2f4ab26568847fa7914f9808c8f5a">RetriggerTDiagEnableTimer</a> (void)</td></tr>
<tr class="memdesc:a33c2f4ab26568847fa7914f9808c8f5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>RetriggerTDiagEnableTimer</b> just sets the timer variable "T_Diag_Enable" to "DIAG_ENABLE_TIMER_START_VALUE_ON_KL15OFF" (9000 &ndash;&gt; 900 s = 15 minutes).  <a href="#a33c2f4ab26568847fa7914f9808c8f5a">More...</a><br /></td></tr>
<tr class="separator:a33c2f4ab26568847fa7914f9808c8f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b321880f1f4c379d21e7bfa39671fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#a22b321880f1f4c379d21e7bfa39671fb">RetriggerNMDiagActiveTimer</a> (void)</td></tr>
<tr class="memdesc:a22b321880f1f4c379d21e7bfa39671fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>RetriggerNMDiagActiveTimer</b> sets the timer T_NM_DiagActive to either 40 s or 4 s - depending on the variable "Trasition35Requested" - if the preconditions for retriggering the timer T_NM_DiagActive (as stored in the variable "DiagEnableStatus") are fulfilled.  <a href="#a22b321880f1f4c379d21e7bfa39671fb">More...</a><br /></td></tr>
<tr class="separator:a22b321880f1f4c379d21e7bfa39671fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef22b7fd5ea0d9c10ec2026352698069"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#aef22b7fd5ea0d9c10ec2026352698069">DiagnosticTimersNotifyTransition35</a> (boolean TransitionProcessed)</td></tr>
<tr class="memdesc:aef22b7fd5ea0d9c10ec2026352698069"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>DiagnosticTimersNotifyDiagnoseActiveStatus</b> is called due to the so called "Transition 35".  <a href="#aef22b7fd5ea0d9c10ec2026352698069">More...</a><br /></td></tr>
<tr class="separator:aef22b7fd5ea0d9c10ec2026352698069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50516030e17bb2ff1c9a45e92ed3f97b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#a50516030e17bb2ff1c9a45e92ed3f97b">DiagnosticTimersNotifyDiagnoseActiveStatus</a> (boolean NewStatus)</td></tr>
<tr class="memdesc:a50516030e17bb2ff1c9a45e92ed3f97b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>DiagnosticTimersNotifyDiagnoseActiveStatus</b> is called if the diagnosis activation status changes (becomes active and incative) and the new activation status is passed as argument in the function parameter "NewStatus".  <a href="#a50516030e17bb2ff1c9a45e92ed3f97b">More...</a><br /></td></tr>
<tr class="separator:a50516030e17bb2ff1c9a45e92ed3f97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae7eeda3fd2299e044c75ab6bcfd8ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#a7ae7eeda3fd2299e044c75ab6bcfd8ed">DiagnosticTimersCyclic</a> (TClamp15StateChange clamp15Change)</td></tr>
<tr class="memdesc:a7ae7eeda3fd2299e044c75ab6bcfd8ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>DiagnosticTimersCyclic</b> shall be called cyclically every 10ms.  <a href="#a7ae7eeda3fd2299e044c75ab6bcfd8ed">More...</a><br /></td></tr>
<tr class="separator:a7ae7eeda3fd2299e044c75ab6bcfd8ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade90a0a06b5845e757e11aa66aeecc6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#ade90a0a06b5845e757e11aa66aeecc6a">RetriggerSI_DiagnoseAktivTimer</a> (void)</td></tr>
<tr class="memdesc:ade90a0a06b5845e757e11aa66aeecc6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>RetriggerSI_DiagnoseAktivTimer</b> just sets the timer variable "SI_DiagnoseAktivTimer" to "SI_DIAGNOSEAKTIV_TIMER_START_VALUE" (400 &ndash;&gt; 4 s).  <a href="#ade90a0a06b5845e757e11aa66aeecc6a">More...</a><br /></td></tr>
<tr class="separator:ade90a0a06b5845e757e11aa66aeecc6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a077ec44a69cd85f6b81126b62f6cd85d"><td class="memItemLeft" align="right" valign="top">uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8h.html#a077ec44a69cd85f6b81126b62f6cd85d">SI_DiagnoseAktivTimer</a></td></tr>
<tr class="memdesc:a077ec44a69cd85f6b81126b62f6cd85d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a077ec44a69cd85f6b81126b62f6cd85d">More...</a><br /></td></tr>
<tr class="separator:a077ec44a69cd85f6b81126b62f6cd85d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>short description in one sentence end with dot. </p>
<dl class="section rcs"><dt>File</dt><dd><a class="el" href="_diagnostic_timers_8h.html" title="short description in one sentence end with dot. ">DiagnosticTimers.h</a> </dd></dl>
<dl class="section rcs"><dt>Change</dt><dd>168833 </dd></dl>
<dl class="section rcs"><dt>Revision</dt><dd>#7 </dd></dl>
<dl class="section rcs"><dt>Author</dt><dd>uic36422 </dd></dl>
<dl class="section rcs"><dt>DateTime</dt><dd>2021/03/02 14:00:55 </dd></dl>
<p>detailed multiline description of the file </p>

<p class="definition">Definition in file <a class="el" href="_diagnostic_timers_8h_source.html">DiagnosticTimers.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0535182aa788581f2fd447ace195f609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0535182aa788581f2fd447ace195f609">&#9670;&nbsp;</a></span>SI_DIAGNOSEAKTIV_TIMER_START_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SI_DIAGNOSEAKTIV_TIMER_START_VALUE&#160;&#160;&#160;400u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>4000ms/10ms UdsTask cycle </p>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8h_source.html#l00059">59</a> of file <a class="el" href="_diagnostic_timers_8h_source.html">DiagnosticTimers.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a31a9e4f62abf9ad8102e2d75cdb00661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31a9e4f62abf9ad8102e2d75cdb00661">&#9670;&nbsp;</a></span>ConditionVehicleSpeed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661">ConditionVehicleSpeed</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a31a9e4f62abf9ad8102e2d75cdb00661a9e1b634c4e09fb9309c8e242fa8d0413"></a>PASSED&#160;</td><td class="fielddoc"><p>0 - Velocity preconditions for execution of diagnosis services are fulfilled </p>
</td></tr>
<tr><td class="fieldname"><a id="a31a9e4f62abf9ad8102e2d75cdb00661aecedb56d1405a60c6069f4a0139bdec5"></a>FAILED&#160;</td><td class="fielddoc"><p>1 - Velocity preconditions for execution of diagnosis services are NOT fulfilled </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8h_source.html#l00070">70</a> of file <a class="el" href="_diagnostic_timers_8h_source.html">DiagnosticTimers.h</a>.</p>

</div>
</div>
<a id="ad4f8bb5e646e709aafeed7b8436ce725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4f8bb5e646e709aafeed7b8436ce725">&#9670;&nbsp;</a></span>TimerState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725">TimerState</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ad4f8bb5e646e709aafeed7b8436ce725ae7fa8ba17d660a7fab0d84c5786ee181"></a>TIMER_ELAPSED&#160;</td><td class="fielddoc"><p>0 - Timer elapsed in the last cyclic processing </p>
</td></tr>
<tr><td class="fieldname"><a id="ad4f8bb5e646e709aafeed7b8436ce725abc4495967cdeae935ea31fa8c3992139"></a>TIMER_RUNNING&#160;</td><td class="fielddoc"><p>1 - Timer is running and decremented cyclically </p>
</td></tr>
<tr><td class="fieldname"><a id="ad4f8bb5e646e709aafeed7b8436ce725a43e3cac5581da1706bdddb64c93bbe12"></a>TIMER_STOPPED&#160;</td><td class="fielddoc"><p>2 - Timer is stopped </p>
</td></tr>
<tr><td class="fieldname"><a id="ad4f8bb5e646e709aafeed7b8436ce725a0b0a1aa1c812a7c813c705922f57d0e1"></a>TIMER_RESTARTED&#160;</td><td class="fielddoc"><p>3 - Timer was set to start value in the last cyclic processing </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8h_source.html#l00061">61</a> of file <a class="el" href="_diagnostic_timers_8h_source.html">DiagnosticTimers.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7ae7eeda3fd2299e044c75ab6bcfd8ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ae7eeda3fd2299e044c75ab6bcfd8ed">&#9670;&nbsp;</a></span>DiagnosticTimersCyclic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiagnosticTimersCyclic </td>
          <td>(</td>
          <td class="paramtype">TClamp15StateChange&#160;</td>
          <td class="paramname"><em>clamp15Change</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>DiagnosticTimersCyclic</b> shall be called cyclically every 10ms. </p>
<p>It processes the timers "T_NM_DiagActive" and "T_Diag_Enable" as well as the related status informations every 100 ms (using a prescaler). <br />
 Besides the "si_Diagnose_Activ timer" and the "KL15 timer for driving cycle" are both processed every 10 ms. <br />
 The Kl.15 (change) status - as given in function parameter clamp15Change - is forwarded to the processing functions of timer "T_Diag_Enable" and "KL15 timer for driving cycle", which both are depending on Kl.15 status.</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">clamp15Change</td><td><table class="doxtable">
<tr>
<th>Description </th><td>Kl.15 (change) status </td></tr>
<tr>
<th>Expected Value Range </th><td>DIAG_CLAMP15_ON, DIAG_CLAMP15_OFF, DIAG_CLAMP15_ON_TO_OFF, DIAG_CLAMP15_OFF_TO_ON </td></tr>
</table>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="DiagnosticTimersCyclic.png" alt="DiagnosticTimersCyclic.png"/>
<div class="caption">
Activity diagram of the function "DiagnosticTimersCyclic"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#af39fafcd6c25b80375873024166c9018">TEST_DiagnosticTimers__DiagnosticTimersCyclic</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Cyclic" <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_857; SWR_ICAS1_Diag_856; SWR_ICAS1_Diag_859; SWR_ICAS1_Diag_875; SWR_ICAS1_Diag_873; SWR_ICAS1_Diag_876; SWR_ICAS1_Diag_874} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01090">1090</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a50516030e17bb2ff1c9a45e92ed3f97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50516030e17bb2ff1c9a45e92ed3f97b">&#9670;&nbsp;</a></span>DiagnosticTimersNotifyDiagnoseActiveStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiagnosticTimersNotifyDiagnoseActiveStatus </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>NewStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>DiagnosticTimersNotifyDiagnoseActiveStatus</b> is called if the diagnosis activation status changes (becomes active and incative) and the new activation status is passed as argument in the function parameter "NewStatus". </p>
<p>It checks the precondition "Default diagnosis session is active", and if it's true, it calls the function "RetriggerNMDiagActiveTimerOnDiagnosticRequest" in order to to update the timer "NM_DiagActive" and the status "DiagnosticActive" (as long as further conditions are fulfilled)</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">NewStatus</td><td><table class="doxtable">
<tr>
<th>Description </th><td>New diagnosis acitvation status </td></tr>
<tr>
<th>Expected Value Range </th><td>TRUE (diagnosis active), FALSE (diagnosis inactive) </td></tr>
</table>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A <b>??? AnMa ????: </b> Do static global variables need to be listed here? Assumption: No</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="DiagnosticTimersNotifyDiagnoseActiveStatus.png" alt="DiagnosticTimersNotifyDiagnoseActiveStatus.png"/>
<div class="caption">
Activity diagram of the function "DiagnosticTimersNotifyDiagnoseActiveStatus"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a2df51ff6f433402ee97884abee2a316f">TEST_DiagnosticTimers__DiagnosticTimersNotifyDiagnoseActiveStatus</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Retriggers" <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_864; SWR_ICAS1_Diag_863} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01078">1078</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="aef22b7fd5ea0d9c10ec2026352698069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef22b7fd5ea0d9c10ec2026352698069">&#9670;&nbsp;</a></span>DiagnosticTimersNotifyTransition35()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiagnosticTimersNotifyTransition35 </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>TransitionProcessed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>DiagnosticTimersNotifyDiagnoseActiveStatus</b> is called due to the so called "Transition 35". </p>
<p>"Transition 35" = Change from NonDefaultSession to DefaultSession due to KL15_OFF to KL15_ON (see SWR_ICAS_Diag_99). In the function parameter "TransitionProcessed" the transition status is given.</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">TransitionProcessed</td><td><table class="doxtable">
<tr>
<th>Description </th><td>Status of "Transition 35" </td></tr>
<tr>
<th>Expected Value Range </th><td>TRUE: Tansition 35 has been processed; FALSE: Transition 35 has not been completed </td></tr>
</table>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="DiagnosticTimersNotifyTransition35.png" alt="DiagnosticTimersNotifyTransition35.png"/>
<div class="caption">
Activity diagram of the function "DiagnosticTimersNotifyTransition35"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the static variable "Trasition35Requested" is set to the value of the argument passed in function parameter "TransitionProcessed" <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a605d351148b46a364b9033c784af1a85">TEST_DiagnosticTimers__DiagnosticTimersNotifyTransition35</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Retriggers" <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_876; SWR_ICAS1_Diag_874} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01073">1073</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="abb8bda9524bc2ad46335af38f5ecb4b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb8bda9524bc2ad46335af38f5ecb4b5">&#9670;&nbsp;</a></span>DiagnosticTimersSetDefaultSessionState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiagnosticTimersSetDefaultSessionState </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>DiagnosticTimersSetDefaultSessionState</b> is called when the diagnosis session changes, for example due to request of Service "Diagnostic Session Control" (SID 10hex) by the diagnosis tester (client). </p>
<p>It stores the information, if the the new diagnosis session is the DefaultSession or not, in a static variable for further use by other internal functions. This information is given via the boolean function parameter "state" by the caller of this function.</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td><table class="doxtable">
<tr>
<th>Description </th><td>Information if new diagnosis session is the DefaultSession </td></tr>
<tr>
<th>Expected Value Range </th><td>TRUE: New diagnosis session is the DefaultSession ; FALSE: New diagnosis session is a NonDefaultSession </td></tr>
</table>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="DiagnosticTimersSetDefaultSessionState.png" alt="DiagnosticTimersSetDefaultSessionState.png"/>
<div class="caption">
Activity diagram of the function "DiagnosticTimersSetDefaultSessionState"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the static variable "isDefaultSession" is set to the value of the argument passed in function parameter "state" <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#ace79ee8bb30e501d00070fbfb23c5ac3">TEST_DiagnosticTimers__DiagnosticTimersSetDefaultSessionState</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Retriggers" <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_866; SWR_ICAS1_Diag_864; SWR_ICAS1_Diag_863; SWR_ICAS1_Diag_856; SWR_ICAS1_Diag_873} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01043">1043</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a99435893ecdcf2570cda96d7b58f8c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99435893ecdcf2570cda96d7b58f8c2a">&#9670;&nbsp;</a></span>getConditionVehicleSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661">ConditionVehicleSpeed</a> getConditionVehicleSpeed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>getConditionVehicleSpeed</b> just returns the validation status of vehicle speed processing which is verified cyclically (every 100 ms) <br />
 Background: Some diagnosis services require preconditions to be fulfilled, in order to allow their execution. </p>
<p>One of the preconditions is that the velocity (vehicle speed) is within a certain range. This function returns the result of this velocity precondition check. <br />
 Remark: Whether the preconditions shall be checked or not when receiving a diagnositc request depends on the State "OBD Driving Cycle" (see SWR_ICAS1_Diag_115) </p><dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ConditionVehicleSpeed - Result of the velocity precondition check done cyclically every 100 ms <br />
</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">PASSED</td><td>- Velocity preconditions are fulfilled </td></tr>
    <tr><td class="paramname">FAILED</td><td>- Velocity preconditions are NOT fulfilled</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="getConditionVehicleSpeed.png" alt="getConditionVehicleSpeed.png"/>
<div class="caption">
Activity diagram of the function "getConditionVehicleSpeed"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the function returns the value of the struct element "si_Status" from the static struct variable "VehicleSpeedValidation". <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a691e35e2a2e370499c7b7a518a5260cb">TEST_DiagnosticTimers__getConditionVehicleSpeed</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
<b>??? AnMa ????: </b> Description and SW architecture of requirements regarding "velocity preconditions for diagnosis services" are completely missing in EA SW requirements are: {SWR_ICAS1_Diag_118}</dd></dl>
<p>It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_118, SWR_ICAS1_Diag_115} <br />
</p>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01147">1147</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="ab954fd25de6ab2a574a979895963b393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab954fd25de6ab2a574a979895963b393">&#9670;&nbsp;</a></span>getStateKL15TimerForDrivingCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725">TimerState</a> getStateKL15TimerForDrivingCycle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>getStateKL15TimerForDrivingCycle</b> just returns the status of the "KL15 timer for driving cycle". </p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TimerState - Status of the "KL15 timer for driving cycle" which is counted every 10 ms <br />
</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TIMER_ELAPSED</td><td>- Timer elapsed in the last cyclic 10 ms processing </td></tr>
    <tr><td class="paramname">TIMER_RUNNING</td><td>- Timer is running and decremented every 10 ms </td></tr>
    <tr><td class="paramname">TIMER_STOPPED</td><td>- Timer is stopped </td></tr>
    <tr><td class="paramname">TIMER_RESTARTED</td><td>- Timer was set to DRIVING_CYCLE_TIMER_START_VALUE (200 = 2 s) in the last cyclic 10ms processing</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="getStateKL15TimerForDrivingCycle.png" alt="getStateKL15TimerForDrivingCycle.png"/>
<div class="caption">
Activity diagram of the function "getStateKL15TimerForDrivingCycle"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the function returns the value of the struct element "Status" from the static struct variable "KL15TimerForDCY". <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a5a86a82c73e63ee0825f11020b1b8ae4">TEST_DiagnosticTimers__getStateKL15TimerForDrivingCycle</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
<b>??? AnMa ????: </b> Description and SW architecture of requirements regarding "KL15 timer for driving cycle" (DCY = Driving CYcle) are completely missing in EA SW requirements are: {SWR_ICAS1_Diag_793; SWR_ICAS1_Diag_791}</dd></dl>
<p>It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_793; SWR_ICAS1_Diag_791} <br />
</p>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01140">1140</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a22b321880f1f4c379d21e7bfa39671fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b321880f1f4c379d21e7bfa39671fb">&#9670;&nbsp;</a></span>RetriggerNMDiagActiveTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RetriggerNMDiagActiveTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>RetriggerNMDiagActiveTimer</b> sets the timer T_NM_DiagActive to either 40 s or 4 s - depending on the variable "Trasition35Requested" - if the preconditions for retriggering the timer T_NM_DiagActive (as stored in the variable "DiagEnableStatus") are fulfilled. </p>
<p>It is shall be called if</p><ul>
<li>a transition to the default diagnosis session happens</li>
<li>for all diagnosis requests and responses within the DefaultSession</li>
</ul>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="RetriggerNMDiagActiveTimer.png" alt="RetriggerNMDiagActiveTimer.png"/>
<div class="caption">
Activity diagram of the function "RetriggerNMDiagActiveTimer"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#ac714d1cad1b07c15c83e2f33d266bdbe">TEST_DiagnosticTimers__RetriggerNMDiagActiveTimer</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", StateMachine Diagram: "Timers State Machine" <br />
 <br />
 <b>??? AnMa ????: </b> Call of this interface function is not shown in any sequence chart in EA. Will this be added? The given reference to the StateMachine Diagram: "Timers State Machine" may need to modified after EA was reworked. <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_867; SWR_ICAS1_Diag_864; SWR_ICAS1_Diag_876, SWR_ICAS1_Diag_860} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01053">1053</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="ade90a0a06b5845e757e11aa66aeecc6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade90a0a06b5845e757e11aa66aeecc6a">&#9670;&nbsp;</a></span>RetriggerSI_DiagnoseAktivTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RetriggerSI_DiagnoseAktivTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>RetriggerSI_DiagnoseAktivTimer</b> just sets the timer variable "SI_DiagnoseAktivTimer" to "SI_DIAGNOSEAKTIV_TIMER_START_VALUE" (400 &ndash;&gt; 4 s). </p>
<p>It shall be called in order to retrigger the timer when diagnostic messages (CAN/100BaseTx) are received and thus a diagnostic is active. (see EA)</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="RetriggerSI_DiagnoseAktivTimer.png" alt="RetriggerSI_DiagnoseAktivTimer.png"/>
<div class="caption">
Activity diagram of the function "RetriggerSI_DiagnoseAktivTimer"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the static variable "SI_DiagnoseAktivTimer" is set to the value given in SI_DIAGNOSEAKTIV_TIMER_START_VALUE. <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#ae3fe3feef303e1473d30c9d2d970d97d">TEST_DiagnosticTimers__RetriggerSI_DiagnoseAktivTimer</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Retriggers" <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", StateMachine Diagram: "Timers State Machine" <br />
 <b>??? AnMa ????: </b> The given reference to the StateMachine Diagram: "Timers State Machine" may need to modified after EA was reworked. <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_911; SWR_ICAS1_Diag_917; SWR_ICAS1_Diag_918; SWR_ICAS1_Diag_916} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01037">1037</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a33c2f4ab26568847fa7914f9808c8f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33c2f4ab26568847fa7914f9808c8f5a">&#9670;&nbsp;</a></span>RetriggerTDiagEnableTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RetriggerTDiagEnableTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>RetriggerTDiagEnableTimer</b> just sets the timer variable "T_Diag_Enable" to "DIAG_ENABLE_TIMER_START_VALUE_ON_KL15OFF" (9000 &ndash;&gt; 900 s = 15 minutes). </p>
<p>It shall be called if transition from KL15_ON to KL15_OFF is detected.</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="RetriggerTDiagEnableTimer.png" alt="RetriggerTDiagEnableTimer.png"/>
<div class="caption">
Activity diagram of the function "RetriggerTDiagEnableTimer"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the static variable "T_Diag_Enable" is set to the value given in DIAG_ENABLE_TIMER_START_VALUE_ON_KL15OFF. <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#afe645f63318f678d31b61f274eca7aac">TEST_DiagnosticTimers__RetriggerTDiagEnableTimer</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", StateMachine Diagram: "Timers State Machine" <br />
 <b>??? AnMa ????: </b> Call of this interface function is not shown in any sequence chart in EA. Will this be added? The given reference to the StateMachine Diagram: "Timers State Machine" may need to modified after EA was reworked. <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_875, SWR_ICAS1_Diag_860} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01048">1048</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a077ec44a69cd85f6b81126b62f6cd85d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077ec44a69cd85f6b81126b62f6cd85d">&#9670;&nbsp;</a></span>SI_DiagnoseAktivTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 SI_DiagnoseAktivTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The "si_Diagnose_Activ timer" value</p>
<p>"si_Diagnose_Activ timer" is processed cyclically every 10 ms. <br />
 The timer shall be (re)started when diagnostic messages (CAN/100BaseTx) are received and thus a diagnostic is active. <br />
 <br />
 As long as this timer is running Chorus shall set the signal Systeminfo_01.SI_Diagnose_Aktiv = 1. <br />
 If the timer is expired Chorus shall set the signal Systeminfo_01.SI_Diagnose_Aktiv = 0. <br />
 <br />
 This timer variable is a global variable and exported to be used by DoIP_DCM, RoutingTask, GwAdaptor, WakeupSleep SW Units. </p><dl class="section remark"><dt>Remarks</dt><dd>range 0 - 400<br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00221">221</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13, 1.8.14-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer">
  <small>
    Generated on Tue Apr 26 2022 09:44:23 for SDD_DiagnosticTimers by &#160;
    <a>
      <img class="footer" src="doxygen.png" alt="doxygen"/>
    </a>
    1.8.14<br>
    <a>
      <img class="footer" src="../conti.png" alt="continental"/>
    </a>
  </small>
</address>
</body>
</html>
