<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDD_DiagnosticTimers: DiagnosticTimers.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDD_DiagnosticTimers
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_555faaf16ed2c6601ac2bd79e42789e9.html">sw.sys.chorus_main_build</a></li><li class="navelem"><a class="el" href="dir_8c5bb8e6017a091611255f5df25847cf.html">mc_sw</a></li><li class="navelem"><a class="el" href="dir_0e57bb0d22386323bf9524ba12bdb1ae.html">cdd</a></li><li class="navelem"><a class="el" href="dir_3a6dd833d7d9152a8ad25671861a2fd9.html">UDS_Services_Chorus</a></li><li class="navelem"><a class="el" href="dir_878ea9fa8035e7fd3921449a94b45834.html">DiagnosticTimers</a></li><li class="navelem"><a class="el" href="dir_e3081e6e1fc918a72f74d2b110104743.html">c</a></li><li class="navelem"><a class="el" href="dir_4b96d92997103cd0e0c8f6c1e7ba06be.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">DiagnosticTimers.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of diagnostic timers - NM_DiagActive, T_DiagEnable, KL15 timer for Driving Cycle validation.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
Include dependency graph for DiagnosticTimers.c:</div>
<div class="dyncontent">
<div class="center"><img src="_diagnostic_timers_8c__incl.png" border="0" usemap="#_diagnostic_timers_8c" alt=""/></div>
<map name="_diagnostic_timers_8c" id="_diagnostic_timers_8c">
<area shape="rect" id="node2" href="_diagnostic_timers_8h.html" title="short description in one sentence end with dot. " alt="" coords="5,80,139,107"/>
</map>
</div>
</div>
<p><a href="_diagnostic_timers_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a222742bda2562ff6d468497c8c10b59b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a222742bda2562ff6d468497c8c10b59b">DRIVING_CYCLE_TIMER_START_VALUE</a>&#160;&#160;&#160;200u</td></tr>
<tr class="memdesc:a222742bda2562ff6d468497c8c10b59b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a222742bda2562ff6d468497c8c10b59b">More...</a><br /></td></tr>
<tr class="separator:a222742bda2562ff6d468497c8c10b59b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be1b84a30539d71f162f5be0917f9af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a5be1b84a30539d71f162f5be0917f9af">SPEED_VALIDATION_TIMER</a>&#160;&#160;&#160;20u</td></tr>
<tr class="memdesc:a5be1b84a30539d71f162f5be0917f9af"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a5be1b84a30539d71f162f5be0917f9af">More...</a><br /></td></tr>
<tr class="separator:a5be1b84a30539d71f162f5be0917f9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d952e6623a278600f135d78b307891d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a2d952e6623a278600f135d78b307891d">NM_TIMER_START_VALUE</a>&#160;&#160;&#160;40u</td></tr>
<tr class="memdesc:a2d952e6623a278600f135d78b307891d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a2d952e6623a278600f135d78b307891d">More...</a><br /></td></tr>
<tr class="separator:a2d952e6623a278600f135d78b307891d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ef0effc7858c8feb96ee7d898e791b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a5ef0effc7858c8feb96ee7d898e791b8">NM_TIMER_START_VALUE_ON_TRANSITION35</a>&#160;&#160;&#160;400u</td></tr>
<tr class="memdesc:a5ef0effc7858c8feb96ee7d898e791b8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a5ef0effc7858c8feb96ee7d898e791b8">More...</a><br /></td></tr>
<tr class="separator:a5ef0effc7858c8feb96ee7d898e791b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a59a54a76629c61d6e7c58d1910202a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a8a59a54a76629c61d6e7c58d1910202a">DIAG_ENABLE_TIMER_START_VALUE</a>&#160;&#160;&#160;600u</td></tr>
<tr class="memdesc:a8a59a54a76629c61d6e7c58d1910202a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a8a59a54a76629c61d6e7c58d1910202a">More...</a><br /></td></tr>
<tr class="separator:a8a59a54a76629c61d6e7c58d1910202a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41aa1bc913d649fc660ecfa6c470caac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a41aa1bc913d649fc660ecfa6c470caac">DIAG_ENABLE_TIMER_START_VALUE_ON_KL15OFF</a>&#160;&#160;&#160;9000u</td></tr>
<tr class="memdesc:a41aa1bc913d649fc660ecfa6c470caac"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a41aa1bc913d649fc660ecfa6c470caac">More...</a><br /></td></tr>
<tr class="separator:a41aa1bc913d649fc660ecfa6c470caac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d3d83d10ce1453c3d8dcfca64d4d4f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a8d3d83d10ce1453c3d8dcfca64d4d4f2">TIMER_ELAPSED_VALUE</a>&#160;&#160;&#160;0u</td></tr>
<tr class="memdesc:a8d3d83d10ce1453c3d8dcfca64d4d4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a8d3d83d10ce1453c3d8dcfca64d4d4f2">More...</a><br /></td></tr>
<tr class="separator:a8d3d83d10ce1453c3d8dcfca64d4d4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdc67b3e349b2897ac5f929fb6423a07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#acdc67b3e349b2897ac5f929fb6423a07">TESTER_PRESENT</a>&#160;&#160;&#160;0x3Eu</td></tr>
<tr class="memdesc:acdc67b3e349b2897ac5f929fb6423a07"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#acdc67b3e349b2897ac5f929fb6423a07">More...</a><br /></td></tr>
<tr class="separator:acdc67b3e349b2897ac5f929fb6423a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66ca20106bd2093c3da763be0eb53ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#aa66ca20106bd2093c3da763be0eb53ab">LAST_OBD_SERVICE_REQUEST_ID</a>&#160;&#160;&#160;0x0Fu</td></tr>
<tr class="memdesc:aa66ca20106bd2093c3da763be0eb53ab"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#aa66ca20106bd2093c3da763be0eb53ab">More...</a><br /></td></tr>
<tr class="separator:aa66ca20106bd2093c3da763be0eb53ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f281ceca6afd7f80ff4ceddc801216"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#ab6f281ceca6afd7f80ff4ceddc801216">FUNCTIONAL_REQUEST</a>&#160;&#160;&#160;DCM_NORMAL_FUNCTIONAL_REQUEST</td></tr>
<tr class="memdesc:ab6f281ceca6afd7f80ff4ceddc801216"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#ab6f281ceca6afd7f80ff4ceddc801216">More...</a><br /></td></tr>
<tr class="separator:ab6f281ceca6afd7f80ff4ceddc801216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad12226b4f160ef7165fe90d37c995c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a0ad12226b4f160ef7165fe90d37c995c">PRESCALLER_100MS</a>&#160;&#160;&#160;9u</td></tr>
<tr class="memdesc:a0ad12226b4f160ef7165fe90d37c995c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a0ad12226b4f160ef7165fe90d37c995c">More...</a><br /></td></tr>
<tr class="separator:a0ad12226b4f160ef7165fe90d37c995c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1f9caafab14b8c490a1a688009a8610"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#af1f9caafab14b8c490a1a688009a8610">K_DIAG_PRECOND_MIN_VEHICLE_SPEED</a>&#160;&#160;&#160;500u</td></tr>
<tr class="memdesc:af1f9caafab14b8c490a1a688009a8610"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#af1f9caafab14b8c490a1a688009a8610">More...</a><br /></td></tr>
<tr class="separator:af1f9caafab14b8c490a1a688009a8610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d108f96faabb8736d55455ee011b727"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a2d108f96faabb8736d55455ee011b727">K_DIAG_PRECOND_MAX_VEHICLE_SPEED</a>&#160;&#160;&#160;65533u</td></tr>
<tr class="memdesc:a2d108f96faabb8736d55455ee011b727"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a2d108f96faabb8736d55455ee011b727">More...</a><br /></td></tr>
<tr class="separator:a2d108f96faabb8736d55455ee011b727"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acb2c362b7cc8c782ac8db06c0b46585b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#acb2c362b7cc8c782ac8db06c0b46585b">setNMDiagActive</a> (boolean State)</td></tr>
<tr class="memdesc:acb2c362b7cc8c782ac8db06c0b46585b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#acb2c362b7cc8c782ac8db06c0b46585b">More...</a><br /></td></tr>
<tr class="separator:acb2c362b7cc8c782ac8db06c0b46585b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf1c6bd9ae32e695100ac3284439bc9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#accf1c6bd9ae32e695100ac3284439bc9">RetriggerNMDiagActiveTimerOnDiagnosticRequest</a> (boolean DiagnosticActiveStatus)</td></tr>
<tr class="memdesc:accf1c6bd9ae32e695100ac3284439bc9"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#accf1c6bd9ae32e695100ac3284439bc9">More...</a><br /></td></tr>
<tr class="separator:accf1c6bd9ae32e695100ac3284439bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce7f1f215bef9df95b6950680071dd6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#acce7f1f215bef9df95b6950680071dd6">ProcessTDiagEnable</a> (TClamp15StateChange clamp15Change)</td></tr>
<tr class="memdesc:acce7f1f215bef9df95b6950680071dd6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#acce7f1f215bef9df95b6950680071dd6">More...</a><br /></td></tr>
<tr class="separator:acce7f1f215bef9df95b6950680071dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b09dec935e8ba390f544eebc86b916"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#ab1b09dec935e8ba390f544eebc86b916">ProcessNMDiagAcive</a> (void)</td></tr>
<tr class="memdesc:ab1b09dec935e8ba390f544eebc86b916"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#ab1b09dec935e8ba390f544eebc86b916">More...</a><br /></td></tr>
<tr class="separator:ab1b09dec935e8ba390f544eebc86b916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7611afef38cc55c3d9630269550e9fbe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a7611afef38cc55c3d9630269550e9fbe">processDrivingCycleTimer</a> (TClamp15StateChange clamp15Change)</td></tr>
<tr class="memdesc:a7611afef38cc55c3d9630269550e9fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a7611afef38cc55c3d9630269550e9fbe">More...</a><br /></td></tr>
<tr class="separator:a7611afef38cc55c3d9630269550e9fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a561e58ee659e06f195f93876f0f556da"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a561e58ee659e06f195f93876f0f556da">ProcessVehicleSpeed</a> (void)</td></tr>
<tr class="memdesc:a561e58ee659e06f195f93876f0f556da"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a561e58ee659e06f195f93876f0f556da">More...</a><br /></td></tr>
<tr class="separator:a561e58ee659e06f195f93876f0f556da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ddeb8a3ca962f45864edfc3b44985eb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a3ddeb8a3ca962f45864edfc3b44985eb">ProcessSI_DiagnoseActive</a> (void)</td></tr>
<tr class="memdesc:a3ddeb8a3ca962f45864edfc3b44985eb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a3ddeb8a3ca962f45864edfc3b44985eb">More...</a><br /></td></tr>
<tr class="separator:a3ddeb8a3ca962f45864edfc3b44985eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55c7b8e5f3c9b2d96f334ebbd6958c3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#ab55c7b8e5f3c9b2d96f334ebbd6958c3">decrementSI_DiagnoseActiveTimer</a> (void)</td></tr>
<tr class="memdesc:ab55c7b8e5f3c9b2d96f334ebbd6958c3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#ab55c7b8e5f3c9b2d96f334ebbd6958c3">More...</a><br /></td></tr>
<tr class="separator:ab55c7b8e5f3c9b2d96f334ebbd6958c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e8bd26f8fbb89b1e799ac8985280bac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a3e8bd26f8fbb89b1e799ac8985280bac">update_SI_DiagnoseActive_Signal</a> (void)</td></tr>
<tr class="memdesc:a3e8bd26f8fbb89b1e799ac8985280bac"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a3e8bd26f8fbb89b1e799ac8985280bac">More...</a><br /></td></tr>
<tr class="separator:a3e8bd26f8fbb89b1e799ac8985280bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0471b7e5c30e6ba274a701143885b3ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a0471b7e5c30e6ba274a701143885b3ae">update_SI_DiagnoseActive_SignalForSPN</a> (void)</td></tr>
<tr class="memdesc:a0471b7e5c30e6ba274a701143885b3ae"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a0471b7e5c30e6ba274a701143885b3ae">More...</a><br /></td></tr>
<tr class="separator:a0471b7e5c30e6ba274a701143885b3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade90a0a06b5845e757e11aa66aeecc6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#ade90a0a06b5845e757e11aa66aeecc6a">RetriggerSI_DiagnoseAktivTimer</a> (void)</td></tr>
<tr class="memdesc:ade90a0a06b5845e757e11aa66aeecc6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>RetriggerSI_DiagnoseAktivTimer</b> just sets the timer variable "SI_DiagnoseAktivTimer" to "SI_DIAGNOSEAKTIV_TIMER_START_VALUE" (400 &ndash;&gt; 4 s).  <a href="#ade90a0a06b5845e757e11aa66aeecc6a">More...</a><br /></td></tr>
<tr class="separator:ade90a0a06b5845e757e11aa66aeecc6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb8bda9524bc2ad46335af38f5ecb4b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#abb8bda9524bc2ad46335af38f5ecb4b5">DiagnosticTimersSetDefaultSessionState</a> (boolean state)</td></tr>
<tr class="memdesc:abb8bda9524bc2ad46335af38f5ecb4b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>DiagnosticTimersSetDefaultSessionState</b> is called when the diagnosis session changes, for example due to request of Service "Diagnostic Session Control" (SID 10hex) by the diagnosis tester (client).  <a href="#abb8bda9524bc2ad46335af38f5ecb4b5">More...</a><br /></td></tr>
<tr class="separator:abb8bda9524bc2ad46335af38f5ecb4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c2f4ab26568847fa7914f9808c8f5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a33c2f4ab26568847fa7914f9808c8f5a">RetriggerTDiagEnableTimer</a> (void)</td></tr>
<tr class="memdesc:a33c2f4ab26568847fa7914f9808c8f5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>RetriggerTDiagEnableTimer</b> just sets the timer variable "T_Diag_Enable" to "DIAG_ENABLE_TIMER_START_VALUE_ON_KL15OFF" (9000 &ndash;&gt; 900 s = 15 minutes).  <a href="#a33c2f4ab26568847fa7914f9808c8f5a">More...</a><br /></td></tr>
<tr class="separator:a33c2f4ab26568847fa7914f9808c8f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b321880f1f4c379d21e7bfa39671fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a22b321880f1f4c379d21e7bfa39671fb">RetriggerNMDiagActiveTimer</a> (void)</td></tr>
<tr class="memdesc:a22b321880f1f4c379d21e7bfa39671fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>RetriggerNMDiagActiveTimer</b> sets the timer T_NM_DiagActive to either 40 s or 4 s - depending on the variable "Trasition35Requested" - if the preconditions for retriggering the timer T_NM_DiagActive (as stored in the variable "DiagEnableStatus") are fulfilled.  <a href="#a22b321880f1f4c379d21e7bfa39671fb">More...</a><br /></td></tr>
<tr class="separator:a22b321880f1f4c379d21e7bfa39671fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef22b7fd5ea0d9c10ec2026352698069"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#aef22b7fd5ea0d9c10ec2026352698069">DiagnosticTimersNotifyTransition35</a> (boolean TransitionProcessed)</td></tr>
<tr class="memdesc:aef22b7fd5ea0d9c10ec2026352698069"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>DiagnosticTimersNotifyDiagnoseActiveStatus</b> is called due to the so called "Transition 35".  <a href="#aef22b7fd5ea0d9c10ec2026352698069">More...</a><br /></td></tr>
<tr class="separator:aef22b7fd5ea0d9c10ec2026352698069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50516030e17bb2ff1c9a45e92ed3f97b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a50516030e17bb2ff1c9a45e92ed3f97b">DiagnosticTimersNotifyDiagnoseActiveStatus</a> (boolean NewStatus)</td></tr>
<tr class="memdesc:a50516030e17bb2ff1c9a45e92ed3f97b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>DiagnosticTimersNotifyDiagnoseActiveStatus</b> is called if the diagnosis activation status changes (becomes active and incative) and the new activation status is passed as argument in the function parameter "NewStatus".  <a href="#a50516030e17bb2ff1c9a45e92ed3f97b">More...</a><br /></td></tr>
<tr class="separator:a50516030e17bb2ff1c9a45e92ed3f97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae7eeda3fd2299e044c75ab6bcfd8ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a7ae7eeda3fd2299e044c75ab6bcfd8ed">DiagnosticTimersCyclic</a> (TClamp15StateChange clamp15Change)</td></tr>
<tr class="memdesc:a7ae7eeda3fd2299e044c75ab6bcfd8ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>DiagnosticTimersCyclic</b> shall be called cyclically every 10ms.  <a href="#a7ae7eeda3fd2299e044c75ab6bcfd8ed">More...</a><br /></td></tr>
<tr class="separator:a7ae7eeda3fd2299e044c75ab6bcfd8ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab954fd25de6ab2a574a979895963b393"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725">TimerState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#ab954fd25de6ab2a574a979895963b393">getStateKL15TimerForDrivingCycle</a> (void)</td></tr>
<tr class="memdesc:ab954fd25de6ab2a574a979895963b393"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>getStateKL15TimerForDrivingCycle</b> just returns the status of the "KL15 timer for driving cycle".  <a href="#ab954fd25de6ab2a574a979895963b393">More...</a><br /></td></tr>
<tr class="separator:ab954fd25de6ab2a574a979895963b393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99435893ecdcf2570cda96d7b58f8c2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661">ConditionVehicleSpeed</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a99435893ecdcf2570cda96d7b58f8c2a">getConditionVehicleSpeed</a> (void)</td></tr>
<tr class="memdesc:a99435893ecdcf2570cda96d7b58f8c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function <b>getConditionVehicleSpeed</b> just returns the validation status of vehicle speed processing which is verified cyclically (every 100 ms) <br />
 Background: Some diagnosis services require preconditions to be fulfilled, in order to allow their execution.  <a href="#a99435893ecdcf2570cda96d7b58f8c2a">More...</a><br /></td></tr>
<tr class="separator:a99435893ecdcf2570cda96d7b58f8c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a077ec44a69cd85f6b81126b62f6cd85d"><td class="memItemLeft" align="right" valign="top">uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a077ec44a69cd85f6b81126b62f6cd85d">SI_DiagnoseAktivTimer</a> = 0u</td></tr>
<tr class="memdesc:a077ec44a69cd85f6b81126b62f6cd85d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a077ec44a69cd85f6b81126b62f6cd85d">More...</a><br /></td></tr>
<tr class="separator:a077ec44a69cd85f6b81126b62f6cd85d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c99c61260804d890c08137508b1ae1"><td class="memItemLeft" align="right" valign="top">static DiagnosticTimer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a60c99c61260804d890c08137508b1ae1">KL15TimerForDCY</a> = { 200u , TIMER_STOPPED}</td></tr>
<tr class="memdesc:a60c99c61260804d890c08137508b1ae1"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a60c99c61260804d890c08137508b1ae1">More...</a><br /></td></tr>
<tr class="separator:a60c99c61260804d890c08137508b1ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e1d7cd5964f0863cf97a442d5964ff1"><td class="memItemLeft" align="right" valign="top">static vehicleSpeedTimer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a3e1d7cd5964f0863cf97a442d5964ff1">VehicleSpeedValidation</a> = {<a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661aecedb56d1405a60c6069f4a0139bdec5">FAILED</a>, 20u }</td></tr>
<tr class="memdesc:a3e1d7cd5964f0863cf97a442d5964ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a3e1d7cd5964f0863cf97a442d5964ff1">More...</a><br /></td></tr>
<tr class="separator:a3e1d7cd5964f0863cf97a442d5964ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98da557be22efab7b3df1480d4dda718"><td class="memItemLeft" align="right" valign="top">static uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a98da557be22efab7b3df1480d4dda718">NM_DiagActive</a> = 40u</td></tr>
<tr class="memdesc:a98da557be22efab7b3df1480d4dda718"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a98da557be22efab7b3df1480d4dda718">More...</a><br /></td></tr>
<tr class="separator:a98da557be22efab7b3df1480d4dda718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04dadd99ac059532e908cb6874b1c874"><td class="memItemLeft" align="right" valign="top">static uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a04dadd99ac059532e908cb6874b1c874">T_Diag_Enable</a> = 600u</td></tr>
<tr class="memdesc:a04dadd99ac059532e908cb6874b1c874"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a04dadd99ac059532e908cb6874b1c874">More...</a><br /></td></tr>
<tr class="separator:a04dadd99ac059532e908cb6874b1c874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0641c02c434ecee439b63a5c2be8d15b"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a0641c02c434ecee439b63a5c2be8d15b">DiagnosticActive</a> = 0</td></tr>
<tr class="memdesc:a0641c02c434ecee439b63a5c2be8d15b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a0641c02c434ecee439b63a5c2be8d15b">More...</a><br /></td></tr>
<tr class="separator:a0641c02c434ecee439b63a5c2be8d15b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1c325c1c53120330d9fba5fb2f7540"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a2e1c325c1c53120330d9fba5fb2f7540">DiagEnableStatus</a> = 1</td></tr>
<tr class="memdesc:a2e1c325c1c53120330d9fba5fb2f7540"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a2e1c325c1c53120330d9fba5fb2f7540">More...</a><br /></td></tr>
<tr class="separator:a2e1c325c1c53120330d9fba5fb2f7540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae94d3b730ae1933873a096d704eb55f"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#aae94d3b730ae1933873a096d704eb55f">Trasition35Requested</a> = 0</td></tr>
<tr class="memdesc:aae94d3b730ae1933873a096d704eb55f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#aae94d3b730ae1933873a096d704eb55f">More...</a><br /></td></tr>
<tr class="separator:aae94d3b730ae1933873a096d704eb55f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33299bff1184184a836286ca88cc8cda"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_diagnostic_timers_8c.html#a33299bff1184184a836286ca88cc8cda">isDefaultSession</a> = 1</td></tr>
<tr class="memdesc:a33299bff1184184a836286ca88cc8cda"><td class="mdescLeft">&#160;</td><td class="mdescRight"><hr/>
  <a href="#a33299bff1184184a836286ca88cc8cda">More...</a><br /></td></tr>
<tr class="separator:a33299bff1184184a836286ca88cc8cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of diagnostic timers - NM_DiagActive, T_DiagEnable, KL15 timer for Driving Cycle validation. </p>
<dl class="section rcs"><dt>Source</dt><dd><a class="el" href="_diagnostic_timers_8c.html" title="Implementation of diagnostic timers - NM_DiagActive, T_DiagEnable, KL15 timer for Driving Cycle valid...">DiagnosticTimers.c</a> </dd></dl>
<dl class="section rcs"><dt>Change</dt><dd>164723 </dd></dl>
<dl class="section rcs"><dt>Revision</dt><dd>#10 </dd></dl>
<dl class="section rcs"><dt>Author</dt><dd>uic36422 </dd></dl>
<dl class="section rcs"><dt>DateTime</dt><dd>2021/02/09 08:02:14 </dd></dl>

<p class="definition">Definition in file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8a59a54a76629c61d6e7c58d1910202a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a59a54a76629c61d6e7c58d1910202a">&#9670;&nbsp;</a></span>DIAG_ENABLE_TIMER_START_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIAG_ENABLE_TIMER_START_VALUE&#160;&#160;&#160;600u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Start value for T_Diag_Enable</p>
<p>Start value for "T_Diag_Enable" at KL15_OFF and activation of the DefaultSession after start-up - 60 seconds </p><dl class="section remark"><dt>Remarks</dt><dd>values 600u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00106">106</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a41aa1bc913d649fc660ecfa6c470caac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41aa1bc913d649fc660ecfa6c470caac">&#9670;&nbsp;</a></span>DIAG_ENABLE_TIMER_START_VALUE_ON_KL15OFF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIAG_ENABLE_TIMER_START_VALUE_ON_KL15OFF&#160;&#160;&#160;9000u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Start value for T_Diag_Enable</p>
<p>Start value for "T_Diag_Enable" at ransition from KL15_ON to KL15_OFF - 900 seconds (15 min) </p><dl class="section remark"><dt>Remarks</dt><dd>values 9000u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00116">116</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a222742bda2562ff6d468497c8c10b59b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a222742bda2562ff6d468497c8c10b59b">&#9670;&nbsp;</a></span>DRIVING_CYCLE_TIMER_START_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DRIVING_CYCLE_TIMER_START_VALUE&#160;&#160;&#160;200u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>10ms timers</p>
<p>Start value for "KL15 timer for driving cycle" - 2 seconds </p><dl class="section remark"><dt>Remarks</dt><dd>values 200u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00066">66</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="ab6f281ceca6afd7f80ff4ceddc801216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f281ceca6afd7f80ff4ceddc801216">&#9670;&nbsp;</a></span>FUNCTIONAL_REQUEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FUNCTIONAL_REQUEST&#160;&#160;&#160;DCM_NORMAL_FUNCTIONAL_REQUEST</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>FUNCTIONAL_REQUEST</p>
<p>Used for a functional diagnosis request </p><dl class="section remark"><dt>Remarks</dt><dd>values DCM_NORMAL_FUNCTIONAL_REQUEST <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00157">157</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a2d108f96faabb8736d55455ee011b727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d108f96faabb8736d55455ee011b727">&#9670;&nbsp;</a></span>K_DIAG_PRECOND_MAX_VEHICLE_SPEED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_DIAG_PRECOND_MAX_VEHICLE_SPEED&#160;&#160;&#160;65533u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>K_DIAG_PRECOND_MAX_VEHICLE_SPEED</p>
<p>Velocity limit used for vehicle speed validation - 655,33 km/h </p><dl class="section remark"><dt>Remarks</dt><dd>values 65533u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00187">187</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="af1f9caafab14b8c490a1a688009a8610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1f9caafab14b8c490a1a688009a8610">&#9670;&nbsp;</a></span>K_DIAG_PRECOND_MIN_VEHICLE_SPEED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_DIAG_PRECOND_MIN_VEHICLE_SPEED&#160;&#160;&#160;500u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>K_DIAG_PRECOND_MIN_VEHICLE_SPEED</p>
<p>Velocity limit used for vehicle speed validation - 5 km/h </p><dl class="section remark"><dt>Remarks</dt><dd>values 500u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00177">177</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="aa66ca20106bd2093c3da763be0eb53ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66ca20106bd2093c3da763be0eb53ab">&#9670;&nbsp;</a></span>LAST_OBD_SERVICE_REQUEST_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LAST_OBD_SERVICE_REQUEST_ID&#160;&#160;&#160;0x0Fu</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>LAST_OBD_SERVICE_REQUEST_ID</p>
<p>"T_NM_DiagActive" shall not be (re)started due to diagnosis requests with service ID 01hex - 0Fhex (ScanToolServices) - Last SID of ScanToolServices </p><dl class="section remark"><dt>Remarks</dt><dd>values 0x0Fu <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00147">147</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a2d952e6623a278600f135d78b307891d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d952e6623a278600f135d78b307891d">&#9670;&nbsp;</a></span>NM_TIMER_START_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NM_TIMER_START_VALUE&#160;&#160;&#160;40u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Start value for T_NM_DiagActive</p>
<p>Start value for "T_NM_DiagActive" after diagnosis requests and responses - 4 seconds </p><dl class="section remark"><dt>Remarks</dt><dd>values 40u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00086">86</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a5ef0effc7858c8feb96ee7d898e791b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ef0effc7858c8feb96ee7d898e791b8">&#9670;&nbsp;</a></span>NM_TIMER_START_VALUE_ON_TRANSITION35</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NM_TIMER_START_VALUE_ON_TRANSITION35&#160;&#160;&#160;400u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Start value for T_NM_DiagActive</p>
<p>Start value for "T_NM_DiagActive" after Transition35 - 40 seconds </p><dl class="section remark"><dt>Remarks</dt><dd>values 400u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00096">96</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a0ad12226b4f160ef7165fe90d37c995c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ad12226b4f160ef7165fe90d37c995c">&#9670;&nbsp;</a></span>PRESCALLER_100MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRESCALLER_100MS&#160;&#160;&#160;9u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>PRESCALLER_100MS</p>
<p>Prescaler to scale down from a 10 ms cyclic processing to a 100 ms processing </p><dl class="section remark"><dt>Remarks</dt><dd>values 9u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00167">167</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a5be1b84a30539d71f162f5be0917f9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be1b84a30539d71f162f5be0917f9af">&#9670;&nbsp;</a></span>SPEED_VALIDATION_TIMER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPEED_VALIDATION_TIMER&#160;&#160;&#160;20u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>100ms timers</p>
<p>Start value for "Speed validation timer" - 2 seconds </p><dl class="section remark"><dt>Remarks</dt><dd>values 20u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00076">76</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="acdc67b3e349b2897ac5f929fb6423a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc67b3e349b2897ac5f929fb6423a07">&#9670;&nbsp;</a></span>TESTER_PRESENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TESTER_PRESENT&#160;&#160;&#160;0x3Eu</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>TESTER_PRESENT</p>
<p>Service ID (SID) for the diagnosis service TesterPresent (3Ehex) </p><dl class="section remark"><dt>Remarks</dt><dd>values 0x3Eu <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00136">136</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a8d3d83d10ce1453c3d8dcfca64d4d4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3d83d10ce1453c3d8dcfca64d4d4f2">&#9670;&nbsp;</a></span>TIMER_ELAPSED_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_ELAPSED_VALUE&#160;&#160;&#160;0u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Timer expiry</p>
<p>Value for timer expired (Count down timers) </p><dl class="section remark"><dt>Remarks</dt><dd>values 0u <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00126">126</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab55c7b8e5f3c9b2d96f334ebbd6958c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab55c7b8e5f3c9b2d96f334ebbd6958c3">&#9670;&nbsp;</a></span>decrementSI_DiagnoseActiveTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void decrementSI_DiagnoseActiveTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process decrementSI_DiagnoseActiveTimer</p>
<p>This function decrements SI_DiagnoseAktivTimer until timer is elapsed. <br />
</p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NA</td><td><br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>SI_DiagnoseAktivTimer: timer to set signal SI_DiagnoseActive to 1 for 4s when a diagnostic message was received; uint16, input and output <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd></dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="decrementSI_DiagnoseActiveTimer.png" alt="decrementSI_DiagnoseActiveTimer.png"/>
<div class="caption">
decrementSI_DiagnoseActiveTimer Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) test if timer is decrementing until it is elapsed <br />
TEST_DiagnosticTimers__decrementSI_DiagnoseActiveTimer <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ServiceLayer.DiagServices.Diagnosis.SW Architecture.Components.DiagnosticTimers.Dynamic Behaviour Timers State Machine <br />
It satisfies the following DOORS Requirements: <br />
</dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000007">Satisfies requirement:</a></b></dt><dd>SWR_ICAS1_Diag_911; SWR_ICAS1_Diag_912 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00831">831</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a7ae7eeda3fd2299e044c75ab6bcfd8ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ae7eeda3fd2299e044c75ab6bcfd8ed">&#9670;&nbsp;</a></span>DiagnosticTimersCyclic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiagnosticTimersCyclic </td>
          <td>(</td>
          <td class="paramtype">TClamp15StateChange&#160;</td>
          <td class="paramname"><em>clamp15Change</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>DiagnosticTimersCyclic</b> shall be called cyclically every 10ms. </p>
<p>It processes the timers "T_NM_DiagActive" and "T_Diag_Enable" as well as the related status informations every 100 ms (using a prescaler). <br />
 Besides the "si_Diagnose_Activ timer" and the "KL15 timer for driving cycle" are both processed every 10 ms. <br />
 The Kl.15 (change) status - as given in function parameter clamp15Change - is forwarded to the processing functions of timer "T_Diag_Enable" and "KL15 timer for driving cycle", which both are depending on Kl.15 status.</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">clamp15Change</td><td><table class="doxtable">
<tr>
<th>Description </th><td>Kl.15 (change) status </td></tr>
<tr>
<th>Expected Value Range </th><td>DIAG_CLAMP15_ON, DIAG_CLAMP15_OFF, DIAG_CLAMP15_ON_TO_OFF, DIAG_CLAMP15_OFF_TO_ON </td></tr>
</table>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="DiagnosticTimersCyclic.png" alt="DiagnosticTimersCyclic.png"/>
<div class="caption">
Activity diagram of the function "DiagnosticTimersCyclic"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#af39fafcd6c25b80375873024166c9018">TEST_DiagnosticTimers__DiagnosticTimersCyclic</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Cyclic" <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_857; SWR_ICAS1_Diag_856; SWR_ICAS1_Diag_859; SWR_ICAS1_Diag_875; SWR_ICAS1_Diag_873; SWR_ICAS1_Diag_876; SWR_ICAS1_Diag_874} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01090">1090</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a50516030e17bb2ff1c9a45e92ed3f97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50516030e17bb2ff1c9a45e92ed3f97b">&#9670;&nbsp;</a></span>DiagnosticTimersNotifyDiagnoseActiveStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiagnosticTimersNotifyDiagnoseActiveStatus </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>NewStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>DiagnosticTimersNotifyDiagnoseActiveStatus</b> is called if the diagnosis activation status changes (becomes active and incative) and the new activation status is passed as argument in the function parameter "NewStatus". </p>
<p>It checks the precondition "Default diagnosis session is active", and if it's true, it calls the function "RetriggerNMDiagActiveTimerOnDiagnosticRequest" in order to to update the timer "NM_DiagActive" and the status "DiagnosticActive" (as long as further conditions are fulfilled)</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">NewStatus</td><td><table class="doxtable">
<tr>
<th>Description </th><td>New diagnosis acitvation status </td></tr>
<tr>
<th>Expected Value Range </th><td>TRUE (diagnosis active), FALSE (diagnosis inactive) </td></tr>
</table>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A <b>??? AnMa ????: </b> Do static global variables need to be listed here? Assumption: No</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="DiagnosticTimersNotifyDiagnoseActiveStatus.png" alt="DiagnosticTimersNotifyDiagnoseActiveStatus.png"/>
<div class="caption">
Activity diagram of the function "DiagnosticTimersNotifyDiagnoseActiveStatus"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a2df51ff6f433402ee97884abee2a316f">TEST_DiagnosticTimers__DiagnosticTimersNotifyDiagnoseActiveStatus</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Retriggers" <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_864; SWR_ICAS1_Diag_863} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01078">1078</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="aef22b7fd5ea0d9c10ec2026352698069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef22b7fd5ea0d9c10ec2026352698069">&#9670;&nbsp;</a></span>DiagnosticTimersNotifyTransition35()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiagnosticTimersNotifyTransition35 </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>TransitionProcessed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>DiagnosticTimersNotifyDiagnoseActiveStatus</b> is called due to the so called "Transition 35". </p>
<p>"Transition 35" = Change from NonDefaultSession to DefaultSession due to KL15_OFF to KL15_ON (see SWR_ICAS_Diag_99). In the function parameter "TransitionProcessed" the transition status is given.</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">TransitionProcessed</td><td><table class="doxtable">
<tr>
<th>Description </th><td>Status of "Transition 35" </td></tr>
<tr>
<th>Expected Value Range </th><td>TRUE: Tansition 35 has been processed; FALSE: Transition 35 has not been completed </td></tr>
</table>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="DiagnosticTimersNotifyTransition35.png" alt="DiagnosticTimersNotifyTransition35.png"/>
<div class="caption">
Activity diagram of the function "DiagnosticTimersNotifyTransition35"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the static variable "Trasition35Requested" is set to the value of the argument passed in function parameter "TransitionProcessed" <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a605d351148b46a364b9033c784af1a85">TEST_DiagnosticTimers__DiagnosticTimersNotifyTransition35</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Retriggers" <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_876; SWR_ICAS1_Diag_874} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01073">1073</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="abb8bda9524bc2ad46335af38f5ecb4b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb8bda9524bc2ad46335af38f5ecb4b5">&#9670;&nbsp;</a></span>DiagnosticTimersSetDefaultSessionState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiagnosticTimersSetDefaultSessionState </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>DiagnosticTimersSetDefaultSessionState</b> is called when the diagnosis session changes, for example due to request of Service "Diagnostic Session Control" (SID 10hex) by the diagnosis tester (client). </p>
<p>It stores the information, if the the new diagnosis session is the DefaultSession or not, in a static variable for further use by other internal functions. This information is given via the boolean function parameter "state" by the caller of this function.</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td><table class="doxtable">
<tr>
<th>Description </th><td>Information if new diagnosis session is the DefaultSession </td></tr>
<tr>
<th>Expected Value Range </th><td>TRUE: New diagnosis session is the DefaultSession ; FALSE: New diagnosis session is a NonDefaultSession </td></tr>
</table>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="DiagnosticTimersSetDefaultSessionState.png" alt="DiagnosticTimersSetDefaultSessionState.png"/>
<div class="caption">
Activity diagram of the function "DiagnosticTimersSetDefaultSessionState"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the static variable "isDefaultSession" is set to the value of the argument passed in function parameter "state" <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#ace79ee8bb30e501d00070fbfb23c5ac3">TEST_DiagnosticTimers__DiagnosticTimersSetDefaultSessionState</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Retriggers" <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_866; SWR_ICAS1_Diag_864; SWR_ICAS1_Diag_863; SWR_ICAS1_Diag_856; SWR_ICAS1_Diag_873} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01043">1043</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a99435893ecdcf2570cda96d7b58f8c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99435893ecdcf2570cda96d7b58f8c2a">&#9670;&nbsp;</a></span>getConditionVehicleSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661">ConditionVehicleSpeed</a> getConditionVehicleSpeed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>getConditionVehicleSpeed</b> just returns the validation status of vehicle speed processing which is verified cyclically (every 100 ms) <br />
 Background: Some diagnosis services require preconditions to be fulfilled, in order to allow their execution. </p>
<p>One of the preconditions is that the velocity (vehicle speed) is within a certain range. This function returns the result of this velocity precondition check. <br />
 Remark: Whether the preconditions shall be checked or not when receiving a diagnositc request depends on the State "OBD Driving Cycle" (see SWR_ICAS1_Diag_115) </p><dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ConditionVehicleSpeed - Result of the velocity precondition check done cyclically every 100 ms <br />
</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">PASSED</td><td>- Velocity preconditions are fulfilled </td></tr>
    <tr><td class="paramname">FAILED</td><td>- Velocity preconditions are NOT fulfilled</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="getConditionVehicleSpeed.png" alt="getConditionVehicleSpeed.png"/>
<div class="caption">
Activity diagram of the function "getConditionVehicleSpeed"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the function returns the value of the struct element "si_Status" from the static struct variable "VehicleSpeedValidation". <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a691e35e2a2e370499c7b7a518a5260cb">TEST_DiagnosticTimers__getConditionVehicleSpeed</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
<b>??? AnMa ????: </b> Description and SW architecture of requirements regarding "velocity preconditions for diagnosis services" are completely missing in EA SW requirements are: {SWR_ICAS1_Diag_118}</dd></dl>
<p>It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_118, SWR_ICAS1_Diag_115} <br />
</p>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01147">1147</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="ab954fd25de6ab2a574a979895963b393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab954fd25de6ab2a574a979895963b393">&#9670;&nbsp;</a></span>getStateKL15TimerForDrivingCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_diagnostic_timers_8h.html#ad4f8bb5e646e709aafeed7b8436ce725">TimerState</a> getStateKL15TimerForDrivingCycle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>getStateKL15TimerForDrivingCycle</b> just returns the status of the "KL15 timer for driving cycle". </p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TimerState - Status of the "KL15 timer for driving cycle" which is counted every 10 ms <br />
</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TIMER_ELAPSED</td><td>- Timer elapsed in the last cyclic 10 ms processing </td></tr>
    <tr><td class="paramname">TIMER_RUNNING</td><td>- Timer is running and decremented every 10 ms </td></tr>
    <tr><td class="paramname">TIMER_STOPPED</td><td>- Timer is stopped </td></tr>
    <tr><td class="paramname">TIMER_RESTARTED</td><td>- Timer was set to DRIVING_CYCLE_TIMER_START_VALUE (200 = 2 s) in the last cyclic 10ms processing</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="getStateKL15TimerForDrivingCycle.png" alt="getStateKL15TimerForDrivingCycle.png"/>
<div class="caption">
Activity diagram of the function "getStateKL15TimerForDrivingCycle"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the function returns the value of the struct element "Status" from the static struct variable "KL15TimerForDCY". <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a5a86a82c73e63ee0825f11020b1b8ae4">TEST_DiagnosticTimers__getStateKL15TimerForDrivingCycle</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
<b>??? AnMa ????: </b> Description and SW architecture of requirements regarding "KL15 timer for driving cycle" (DCY = Driving CYcle) are completely missing in EA SW requirements are: {SWR_ICAS1_Diag_793; SWR_ICAS1_Diag_791}</dd></dl>
<p>It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_793; SWR_ICAS1_Diag_791} <br />
</p>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01140">1140</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a7611afef38cc55c3d9630269550e9fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7611afef38cc55c3d9630269550e9fbe">&#9670;&nbsp;</a></span>processDrivingCycleTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void processDrivingCycleTimer </td>
          <td>(</td>
          <td class="paramtype">TClamp15StateChange&#160;</td>
          <td class="paramname"><em>clamp15Change</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process processDrivingCycleTimer</p>
<p>This function handles DrivingCycleTimer related value and status based on clamp 15 state <br />
</p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">clamp15Change</td><td>State of Kl 15, enum TClamp15StateChange, range: DIAG_CLAMP15_ON (=0), DIAG_CLAMP15_OFF, DIAG_CLAMP15_ON_TO_OFF, DIAG_CLAMP15_OFF_TO_ON <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd></dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="processDrivingCycleTimer.png" alt="processDrivingCycleTimer.png"/>
<div class="caption">
processDrivingCycleTimer Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) test of boundary values <br />
 2) equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#aeaed0c52514d098243462422a19590e2">TEST_DiagnosticTimers__processDrivingCycleTimer</a> <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ServiceLayer.DiagServices.Diagnosis.SW Architecture.Components.DiagnosticTimers.Dynamic Behaviour Timers State Machine <br />
It satisfies the following DOORS Requirements: <br />
</dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000005">Satisfies requirement:</a></b></dt><dd>SWR_ICAS1_Diag_875; SWR_ICAS1_Diag_876; SWR_ICAS1_Diag_877 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00893">893</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="ab1b09dec935e8ba390f544eebc86b916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1b09dec935e8ba390f544eebc86b916">&#9670;&nbsp;</a></span>ProcessNMDiagAcive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ProcessNMDiagAcive </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process ProcessNMDiagAcive</p>
<p>This function handles ProcessNMDiagAcive timer related decrementing and <br />
 setting setNMDiagActive as TRUE or FALSE.<br />
 </p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NA</td><td><br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd></dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="ProcessNMDiagAcive.png" alt="ProcessNMDiagAcive.png"/>
<div class="caption">
ProcessNMDiagAcive Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) test if timer is decrementing until it is elapsed <br />
 2) test that function is called with the right parameter value <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a3d7308c730c876a1d59b9d7151ac7ec1">TEST_DiagnosticTimers__ProcessNMDiagAcive</a> <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ServiceLayer.DiagServices.Diagnosis.SW Architecture.Components.DiagnosticTimers.Dynamic Behaviour Timers State Machine <br />
It satisfies the following DOORS Requirements: <br />
</dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000004">Satisfies requirement:</a></b></dt><dd>SWR_ICAS1_Diag_873; SWR_ICAS1_Diag_857; SWR_ICAS1_Diag_859; SWR_ICAS1_Diag_867 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01020">1020</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a3ddeb8a3ca962f45864edfc3b44985eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ddeb8a3ca962f45864edfc3b44985eb">&#9670;&nbsp;</a></span>ProcessSI_DiagnoseActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ProcessSI_DiagnoseActive </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process ProcessSI_DiagnoseActive</p>
<p>Function runs in cycle every 100ms for stop the intrupt, decrement the timer and update active signal and resume all intrupt. <br />
</p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NA</td><td><br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd></dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="ProcessVehicleSpeed.png" alt="ProcessVehicleSpeed.png"/>
<div class="caption">
ProcessVehicleSpeed Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) test of boundary values <br />
 2) equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a90c2a661647ff2a023c117db15a0c0bb">TEST_DiagnosticTimers__ProcessVehicleSpeed</a> <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>BeRo????? This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.KRM_Chorus.SW Architecture.Dynamic KRM cyclic monitor <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_911; SWR_ICAS1_Diag_912} </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00879">879</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="acce7f1f215bef9df95b6950680071dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce7f1f215bef9df95b6950680071dd6">&#9670;&nbsp;</a></span>ProcessTDiagEnable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ProcessTDiagEnable </td>
          <td>(</td>
          <td class="paramtype">TClamp15StateChange&#160;</td>
          <td class="paramname"><em>clamp15Change</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process ProcessTDiagEnable <br />
</p>
<p>This function handles T_Diag_Enable timer related decrementing at Kl 15 off and <br />
 DiagEnableStatus related switching it inactive when timer elapsed and DiagnosticActive is no more given. <br />
 </p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous <br />
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">clamp15Change</td><td>State of Kl 15, enum TClamp15StateChange, range: DIAG_CLAMP15_ON (=0), DIAG_CLAMP15_OFF, DIAG_CLAMP15_ON_TO_OFF, DIAG_CLAMP15_OFF_TO_ON <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd></dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="ProcessTDiagEnable.png" alt="ProcessTDiagEnable.png"/>
<div class="caption">
ProcessTDiagEnable Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) test of boundary values <br />
 2) equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a72e4402c947f3ef270e9ada6ec4851b7">TEST_DiagnosticTimers__ProcessTDiagEnable</a> <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ServiceLayer.DiagServices.Diagnosis.SW Architecture.Components.DiagnosticTimers.Dynamic Behaviour Timers State Machine <br />
It satisfies the following DOORS Requirements: <br />
</dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000003">Satisfies requirement:</a></b></dt><dd>SWR_ICAS1_Diag_873; SWR_ICAS1_Diag_875; SWR_ICAS1_Diag_876; SWR_ICAS1_Diag_877 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01000">1000</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a561e58ee659e06f195f93876f0f556da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a561e58ee659e06f195f93876f0f556da">&#9670;&nbsp;</a></span>ProcessVehicleSpeed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ProcessVehicleSpeed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process ProcessVehicleSpeed</p>
<p>Function runs in cycle every 100ms for checking and validation of speed preconditions and 2s timer. <br />
</p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous <br />
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NA</td><td><br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd></dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="ProcessVehicleSpeed.png" alt="ProcessVehicleSpeed.png"/>
<div class="caption">
ProcessVehicleSpeed Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) test of boundary values <br />
 2) equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a90c2a661647ff2a023c117db15a0c0bb">TEST_DiagnosticTimers__ProcessVehicleSpeed</a> <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>BeRo????? This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.KRM_Chorus.SW Architecture.Dynamic KRM cyclic monitor <br />
It satisfies the following DOORS Requirements: <br />
</dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000006">Satisfies requirement:</a></b></dt><dd>SWR_ICAS1_Diag_118 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00917">917</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a22b321880f1f4c379d21e7bfa39671fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b321880f1f4c379d21e7bfa39671fb">&#9670;&nbsp;</a></span>RetriggerNMDiagActiveTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RetriggerNMDiagActiveTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>RetriggerNMDiagActiveTimer</b> sets the timer T_NM_DiagActive to either 40 s or 4 s - depending on the variable "Trasition35Requested" - if the preconditions for retriggering the timer T_NM_DiagActive (as stored in the variable "DiagEnableStatus") are fulfilled. </p>
<p>It is shall be called if</p><ul>
<li>a transition to the default diagnosis session happens</li>
<li>for all diagnosis requests and responses within the DefaultSession</li>
</ul>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="RetriggerNMDiagActiveTimer.png" alt="RetriggerNMDiagActiveTimer.png"/>
<div class="caption">
Activity diagram of the function "RetriggerNMDiagActiveTimer"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#ac714d1cad1b07c15c83e2f33d266bdbe">TEST_DiagnosticTimers__RetriggerNMDiagActiveTimer</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", StateMachine Diagram: "Timers State Machine" <br />
 <br />
 <b>??? AnMa ????: </b> Call of this interface function is not shown in any sequence chart in EA. Will this be added? The given reference to the StateMachine Diagram: "Timers State Machine" may need to modified after EA was reworked. <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_867; SWR_ICAS1_Diag_864; SWR_ICAS1_Diag_876, SWR_ICAS1_Diag_860} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01053">1053</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="accf1c6bd9ae32e695100ac3284439bc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf1c6bd9ae32e695100ac3284439bc9">&#9670;&nbsp;</a></span>RetriggerNMDiagActiveTimerOnDiagnosticRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void RetriggerNMDiagActiveTimerOnDiagnosticRequest </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>DiagnosticActiveStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process RetriggerNMDiagActiveTimerOnDiagnosticRequest <br />
</p>
<p>This function checks if NMDiagTimer is to retrigger based on a diagnostic request from tester. <br />
 NM Diag Active timer is not to retrigger if tester present was sent with suppressed response bit == functional request. <br />
Retrigger NM Diag Active timer if currently processed diagnostic request is not tester present with suppresed response and not SID 01hex - 0Fhex. <br />
 </p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
 </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
 </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">DiagnosticActiveStatus</td><td>State if diagnostic is active, boolean, range: TRUE: active, FALSE: inactive <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd></dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="RetriggerNMDiagActiveTimerOnDiagnosticRequest.png" alt="RetriggerNMDiagActiveTimerOnDiagnosticRequest.png"/>
<div class="caption">
RetriggerNMDiagActiveTimerOnDiagnosticRequest Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) test of boundary values <br />
 2) equivalence class analysis (test of representative values from input range) <br />
 <a class="el" href="_diagnostic_timers_8c_8test.html#a643dc0eb4593d48afd54813f88e88634">TEST_DiagnosticTimers__RetriggerNMDiagActiveTimerOnDiagnosticRequest</a> <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ServiceLayer.DiagServices.Diagnosis.SW Architecture.Components.DiagnosticTimers.Dynamic Behaviour Timers State Machine <br />
 It satisfies the following DOORS Requirements: <br />
</dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000002">Satisfies requirement:</a></b></dt><dd>SWR_ICAS1_Diag_863; SWR_ICAS1_Diag_864 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00970">970</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="ade90a0a06b5845e757e11aa66aeecc6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade90a0a06b5845e757e11aa66aeecc6a">&#9670;&nbsp;</a></span>RetriggerSI_DiagnoseAktivTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RetriggerSI_DiagnoseAktivTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>RetriggerSI_DiagnoseAktivTimer</b> just sets the timer variable "SI_DiagnoseAktivTimer" to "SI_DIAGNOSEAKTIV_TIMER_START_VALUE" (400 &ndash;&gt; 4 s). </p>
<p>It shall be called in order to retrigger the timer when diagnostic messages (CAN/100BaseTx) are received and thus a diagnostic is active. (see EA)</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="RetriggerSI_DiagnoseAktivTimer.png" alt="RetriggerSI_DiagnoseAktivTimer.png"/>
<div class="caption">
Activity diagram of the function "RetriggerSI_DiagnoseAktivTimer"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the static variable "SI_DiagnoseAktivTimer" is set to the value given in SI_DIAGNOSEAKTIV_TIMER_START_VALUE. <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#ae3fe3feef303e1473d30c9d2d970d97d">TEST_DiagnosticTimers__RetriggerSI_DiagnoseAktivTimer</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", Interaction Diagram: "DiagnosticTimers_Retriggers" <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", StateMachine Diagram: "Timers State Machine" <br />
 <b>??? AnMa ????: </b> The given reference to the StateMachine Diagram: "Timers State Machine" may need to modified after EA was reworked. <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_911; SWR_ICAS1_Diag_917; SWR_ICAS1_Diag_918; SWR_ICAS1_Diag_916} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01037">1037</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a33c2f4ab26568847fa7914f9808c8f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33c2f4ab26568847fa7914f9808c8f5a">&#9670;&nbsp;</a></span>RetriggerTDiagEnableTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RetriggerTDiagEnableTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function <b>RetriggerTDiagEnableTimer</b> just sets the timer variable "T_Diag_Enable" to "DIAG_ENABLE_TIMER_START_VALUE_ON_KL15OFF" (9000 &ndash;&gt; 900 s = 15 minutes). </p>
<p>It shall be called if transition from KL15_ON to KL15_OFF is detected.</p>
<dl class="section pre"><dt>Precondition</dt><dd>N/A </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>N/A </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Globals</dt><dd>N/A</dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="RetriggerTDiagEnableTimer.png" alt="RetriggerTDiagEnableTimer.png"/>
<div class="caption">
Activity diagram of the function "RetriggerTDiagEnableTimer"</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test method: <br />
Test if the static variable "T_Diag_Enable" is set to the value given in DIAG_ENABLE_TIMER_START_VALUE_ON_KL15OFF. <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#afe645f63318f678d31b61f274eca7aac">TEST_DiagnosticTimers__RetriggerTDiagEnableTimer</a> <br />
 </dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by <b>architectural requirments</b>: <br />
EA path: "VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.UDS_Service_Chorus.SW Architecture.DiagnosticTimers.Dynamic", StateMachine Diagram: "Timers State Machine" <br />
 <b>??? AnMa ????: </b> Call of this interface function is not shown in any sequence chart in EA. Will this be added? The given reference to the StateMachine Diagram: "Timers State Machine" may need to modified after EA was reworked. <br />
 <br />
It satisfies the following DOORS Requirements: <br />
{SWR_ICAS1_Diag_875, SWR_ICAS1_Diag_860} <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l01048">1048</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="acb2c362b7cc8c782ac8db06c0b46585b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2c362b7cc8c782ac8db06c0b46585b">&#9670;&nbsp;</a></span>setNMDiagActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setNMDiagActive </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>State</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process set NM DiagActive.<br />
</p>
<p>This function is used to set s_NM_DiagActive RTE signal value <br />
</p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
 </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">State</td><td>State if networkmanagement diagnosis is active, boolean, range: TRUE: active, FALSE: inactive <br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd></dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="setNMDiagActive.png" alt="setNMDiagActive.png"/>
<div class="caption">
setNMDiagActive Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) equivalence class analysis (test of representative values from input range) <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a5615d3ef9dfac66289ab3543f390dc87">TEST_DiagnosticTimers__setNMDiagActive</a> <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ServiceLayer.DiagServices.Diagnosis.SW Architecture.Components.DiagnosticTimers.Dynamic Behaviour Timers State Machine <br />
It satisfies the following DOORS Requirements: <br />
</dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000001">Satisfies requirement:</a></b></dt><dd>SWR_ICAS1_Diag_856; SWR_ICAS1_Diag_857; SWR_ICAS1_Diag_859; SWR_ICAS1_Diag_866 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00955">955</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a3e8bd26f8fbb89b1e799ac8985280bac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e8bd26f8fbb89b1e799ac8985280bac">&#9670;&nbsp;</a></span>update_SI_DiagnoseActive_Signal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_SI_DiagnoseActive_Signal </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process update_SI_DiagnoseActive_Signal</p>
<p>This function sets signal "SI_Diagnose_Aktiv" to 1 when timer SI_DiagnoseAktivTimer is running, to 0 when timer is elapsed. <br />
</p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NA</td><td><br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>SI_DiagnoseAktivTimer: timer to set signal SI_DiagnoseActive to 1 for 4s when a diagnostic message was received; uint16, input <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd></dd></dl>
<dl class="section user"><dt>Call Sequence</dt><dd><div class="image">
<img src="update_SI_DiagnoseActive_Signal.png" alt="update_SI_DiagnoseActive_Signal.png"/>
<div class="caption">
update_SI_DiagnoseActive_Signal Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) equivalence class analysis (test of representative values from input range) <br />
 2) test that functions are called with right parameter value <br />
TEST_DiagnosticTimers__update_SI_DiagnoseActive_Signal <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ServiceLayer.DiagServices.Diagnosis.SW Architecture.Components.DiagnosticTimers.Dynamic Behaviour Timers State Machine <br />
It satisfies the following DOORS Requirements: <br />
</dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000008">Satisfies requirement:</a></b></dt><dd>SWR_ICAS1_Diag_911; SWR_ICAS1_Diag_912 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00839">839</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a0471b7e5c30e6ba274a701143885b3ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0471b7e5c30e6ba274a701143885b3ae">&#9670;&nbsp;</a></span>update_SI_DiagnoseActive_SignalForSPN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_SI_DiagnoseActive_SignalForSPN </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The function process update_SI_DiagnoseActive_SignalForSPN</p>
<p>This function sets signal "SI_Diagnose_Aktiv" for SPN to 1 when timer SI_DiagnoseAktivTimer is running OR an OnBoardTester is active OR an OffBoardTester is active, else to 0. </p><dl class="section pre"><dt>Precondition</dt><dd>NA <br />
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>NA <br />
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>reentrant No <br />
 context task context - Its a static function<br />
 thread safe No - Integration must insure that the function is not interrupted by the other functions of the same module<br />
 multicore safe No - All APIs needs to be called from the same core<br />
 synchronous </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NA</td><td><br />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NA <br />
 </dd></dl>
<dl class="section user"><dt>Globals</dt><dd>SI_DiagnoseAktivTimer: timer to set signal SI_DiagnoseActive to 1 for 4s when a diagnostic message was received; uint16, input <br />
 </dd></dl>
<dl class="section user"><dt>Input-&gt;Output-Correlation</dt><dd><div class="image">
<img src="update_SI_DiagnoseActive_SignalForSPN.png" alt="update_SI_DiagnoseActive_SignalForSPN.png"/>
<div class="caption">
update_SI_DiagnoseActive_SignalForSPN Activity Diagram</div></div>
</dd></dl>
<dl class="section user"><dt>Test Method</dt><dd>This function can be verified using the following test methods: <br />
 1) equivalence class analysis (test of representative values from input range) <br />
 2) test that function is called with right parameter value <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#a9ee4d26ccb86ff90dd7d7f1510853975">TEST_DiagnosticTimers__update_SI_DiagnoseActive_SignalForSPN_TC1</a> <br />
<a class="el" href="_diagnostic_timers_8c_8test.html#af596fc54c0a24ae964e9b2593be64d64">TEST_DiagnosticTimers__update_SI_DiagnoseActive_SignalForSPN_TC2</a> <br />
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd>This function is given by VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ServiceLayer.DiagServices.Diagnosis.SW Architecture.Components.DiagnosticTimers.Dynamic Behaviour Timers State Machine <br />
It satisfies the following DOORS Requirements: <br />
</dd></dl>
<dl class="satisfy"><dt><b><a class="el" href="satisfy.html#_satisfy000009">Satisfies requirement:</a></b></dt><dd>SWR_ICAS1_Diag_917 </dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00856">856</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2e1c325c1c53120330d9fba5fb2f7540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1c325c1c53120330d9fba5fb2f7540">&#9670;&nbsp;</a></span>DiagEnableStatus</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean DiagEnableStatus = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Holds the information if one of the following preconditions for retriggering T_NM_DiagActive is still fulfilled:</p><ul>
<li>T_Diag_Enable timer running</li>
<li>Diagnosis requests or responses are (still) processed</li>
</ul>
<p>TRUE: At least one of the above mentioned preconditions is fulfilled <br />
 FALSE: T_Diag_Enable elapsed AND All diagnostic requests/responses have been processed </p><dl class="section remark"><dt>Remarks</dt><dd>range TRUE,FALSE <br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00350">350</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a0641c02c434ecee439b63a5c2be8d15b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0641c02c434ecee439b63a5c2be8d15b">&#9670;&nbsp;</a></span>DiagnosticActive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean DiagnosticActive = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Holds the information if diagnosis is active during a DefaultSession .</p>
<p>It takes the diagnosis activation status as passed to component DiagnosticTimers by the function "DiagnosticTimersNotifyDiagnoseActiveStatus" as long as the following conditions are true</p><ul>
<li>DefaultSession is running</li>
<li>The functionally addressed TesterPresent service (SID 3Ehex) is NOT running</li>
<li>No SID out of range 01hex - 0Fhex (ScanToolServices) is running <dl class="section remark"><dt>Remarks</dt><dd>range TRUE,FALSE <br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00332">332</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a33299bff1184184a836286ca88cc8cda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33299bff1184184a836286ca88cc8cda">&#9670;&nbsp;</a></span>isDefaultSession</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean isDefaultSession = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Holds the information if the running diagnosis session is the DefaultSession .</p>
<p>TRUE: Current diagnosis session is the DefaultSession <br />
 FALSE: Current diagnosis session is a non DefaultSession <br />
</p><dl class="section remark"><dt>Remarks</dt><dd>range TRUE,FALSE <br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00383">383</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a60c99c61260804d890c08137508b1ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c99c61260804d890c08137508b1ae1">&#9670;&nbsp;</a></span>KL15TimerForDCY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DiagnosticTimer KL15TimerForDCY = { 200u , TIMER_STOPPED}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>This struct variable contains the "KL15 timer for driving cycle" and it's status</p>
<p>"KL15 timer for driving cycle" is processed cyclically every 10 ms. <br />
 <br />
 This timer is used to count the 2 s time for the following requirement related to evaluation of a qualified Driving Cycle (DCY), see SWR_ICAS1_Diag_791: <br />
 "CRoute shall evaluate status information of DCY only when KL15 = ON for at least 2 seconds." <br />
 <br />
 The struct element "Status" holds the result of the last cyclic processing (ELAPSED, RUNNING, STOPPED, RESTARTED) and the struct element "Value" holds the (DRIVING_CYCLE_TIMER_START_VALUE) is a 10ms timer, and is provided to the DCY processing software part via the export function "getStateKL15TimerForDrivingCycle". </p><dl class="section remark"><dt>Remarks</dt><dd>range struct{value(0 - 200), Timer state(0 - 3) <br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00241">241</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a98da557be22efab7b3df1480d4dda718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98da557be22efab7b3df1480d4dda718">&#9670;&nbsp;</a></span>NM_DiagActive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16 NM_DiagActive = 40u</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The "T_NM_DiagActive" timer</p>
<p>"T_NM_DiagActive" timer is processed cyclically every 100 ms. <br />
 This timer is used to control the "NM_DiagActive" bit, which indicates towards the network management (NM) the wish to stay awake due to a running diagnosis communication. <br />
 <br />
 "T_NM_DiagActive" shall be stopped when switching from the Default to a NonDefaultSession. <br />
 It shall be started or retriggered for all diagnosis requests and responses within the DefaultSession (exept for SID = TesterPresent (3Ehex) and SID = 01hex - 0Fhex (ScanToolServices)) <br />
 <br />
 The "NM_DiagActive" bit shall be set to 1 under the following conditions</p><ul>
<li>during a NonDefaultSession</li>
<li>during a DefaultSession with a running timer "T_NM_DiagActive" <dl class="section remark"><dt>Remarks</dt><dd>range 0 - 400 <br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00286">286</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a077ec44a69cd85f6b81126b62f6cd85d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077ec44a69cd85f6b81126b62f6cd85d">&#9670;&nbsp;</a></span>SI_DiagnoseAktivTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 SI_DiagnoseAktivTimer = 0u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The "si_Diagnose_Activ timer" value</p>
<p>"si_Diagnose_Activ timer" is processed cyclically every 10 ms. <br />
 The timer shall be (re)started when diagnostic messages (CAN/100BaseTx) are received and thus a diagnostic is active. <br />
 <br />
 As long as this timer is running Chorus shall set the signal Systeminfo_01.SI_Diagnose_Aktiv = 1. <br />
 If the timer is expired Chorus shall set the signal Systeminfo_01.SI_Diagnose_Aktiv = 0. <br />
 <br />
 This timer variable is a global variable and exported to be used by DoIP_DCM, RoutingTask, GwAdaptor, WakeupSleep SW Units. </p><dl class="section remark"><dt>Remarks</dt><dd>range 0 - 400<br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00221">221</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a04dadd99ac059532e908cb6874b1c874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04dadd99ac059532e908cb6874b1c874">&#9670;&nbsp;</a></span>T_Diag_Enable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16 T_Diag_Enable = 600u</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>The "T_Diag_Enable" timer</p>
<p>"T_Diag_Enable" timer is processed cyclically every 100 ms. <br />
 This timer is used to force the suppression of diagnostic communication in the case of no further internal server reasons for maintaining diagnostic activity. <br />
 Background is to prevent a "endless" diagnosis communciation at Kl.15 off in order to save energy in the car. <br />
 <br />
 This timer controls the bool variable "DiagEnableStatus" which is set to FALSE if the timer expired (AND no diagnosis requests/responses are (still) processed). <br />
 With "DiagEnableStatus" == FALSE the "T_NM_DiagActive" timer will not be retriggered and thus the wish towards the network managment (NM) to stay awake due to a running diagnosis communication will be withdrawn after "T_NM_DiagActive" elapsed. <br />
 <br />
 "T_Diag_Enable" shall be stopped when switching from the Default to a NonDefaultSession. It shall be (re)started at</p><ul>
<li>Transition from KL15_ON to KL15_OFF</li>
<li>KL15_OFF and activation of the DefaultSession after start-up <dl class="section remark"><dt>Remarks</dt><dd>range 0 - 9000 <br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00313">313</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="aae94d3b730ae1933873a096d704eb55f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae94d3b730ae1933873a096d704eb55f">&#9670;&nbsp;</a></span>Trasition35Requested</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean Trasition35Requested = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>Holds the information if the so called Transition 35 (from a NonDefaultSession to the DefaultSession due to KL15_OFF to KL15_ON) has been processed completely.</p>
<p>This information is passed to this variable by the function "DiagnosticTimersNotifyTransition35" within it's parameter "TransitionProcessed": <br />
 TRUE: Transition 35 has been processed <br />
 FALSE: Transition 35 has not been completed </p><dl class="section remark"><dt>Remarks</dt><dd>range TRUE,FALSE <br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00368">368</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
<a id="a3e1d7cd5964f0863cf97a442d5964ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e1d7cd5964f0863cf97a442d5964ff1">&#9670;&nbsp;</a></span>VehicleSpeedValidation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vehicleSpeedTimer VehicleSpeedValidation = {<a class="el" href="_diagnostic_timers_8h.html#a31a9e4f62abf9ad8102e2d75cdb00661aecedb56d1405a60c6069f4a0139bdec5">FAILED</a>, 20u }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><hr/>
 </p>
<p>This struct variable contains the validation status of vehicle speed processing and a timer that is used for the processing.</p>
<p>Some diagnosis services require as one of the preconditions to be fulfilled in order to allow their execution that the velocity (vehicle speed) is within a certain range. <br />
 This variable contains in the struct element "si_Status" holds the result of this velocity precondition check (FAILED or PASSED) and struct element "TimerValue" holds the 100ms timer (SPEED_VALIDATION_TIMER). <br />
 After wakeup the status shall be set to FAILED. <br />
 <br />
 The 2nd struct element "TimerValue" is a timer and is used to implement the 2 seconds counting of the following requirement (see SWR_ICAS1_Diag_118): <br />
 The status shall change from PASSED to FAILED if the velocity conditions are not fulfilled for a time longer than 2 seconds <br />
</p><dl class="section remark"><dt>Remarks</dt><dd>range struct{ConditionVehicleSpeed(0 - 1), TimerValue(0 - 20) <br />
 unit NA <br />
 resolution NA <br />
 context task <br />
 protection none - used from one context <br />
</dd></dl>

<p class="definition">Definition at line <a class="el" href="_diagnostic_timers_8c_source.html#l00263">263</a> of file <a class="el" href="_diagnostic_timers_8c_source.html">DiagnosticTimers.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13, 1.8.14-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer">
  <small>
    Generated on Tue Apr 26 2022 09:44:23 for SDD_DiagnosticTimers by &#160;
    <a>
      <img class="footer" src="doxygen.png" alt="doxygen"/>
    </a>
    1.8.14<br>
    <a>
      <img class="footer" src="../conti.png" alt="continental"/>
    </a>
  </small>
</address>
</body>
</html>
