<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDD_ZENTURHSM: Internal Component Design</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDD_ZENTURHSM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">index</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Internal Component Design </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="InternalComponentDesign"></a>
Internal Component Design</h1>
<p>The component ZenturHSM comprises of one component which performs the following startup routine for HSM and the mechansim to write the SHE Keys slots via UDS</p>
<p>So far the component is only made up of one C module: <a class="el" href="_zentur_h_s_m_8c.html" title="Startup routine for HSM and mechanism to write she slots via UDS. ">ZenturHSM.c</a> and <a class="el" href="_zentur_h_s_m_8h.html" title="Startup routine for HSM and mechanism to write she slots via UDS. ">ZenturHSM.h</a></p>
<div class="image">
<img src="UnitComposition.png" alt="UnitComposition.png"/>
<div class="caption">
ZenturHSM decomposition</div></div>
 <h1><a class="anchor" id="SW"></a>
Requirements Allocation</h1>
<p>The software requirements can be traced on function level !.<br />
For more details please refer to Requirement Implementation chapter.<br />
Non functional requirements are traced here: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Requirement ID  </th><th class="markdownTableHeadLeft">Action   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">SWR_ICAS1_GW_20791  </td><td class="markdownTableBodyLeft">The Chorus HSM shall have exclusively write and read access to it's assigned HSM flash area.   </td></tr>
</table>
<h1><a class="anchor" id="SoftwareUnitInterfaces"></a>
Software Unit Interfaces</h1>
<p>The SW unit interfaces are described in SWA in EA : VW_ICAS1.Chorus.All_Cores.SoftwareDecomposition.ComplexDeviceDrivers.HSM_SHE_10m.SW Architecture.Static.Interfaces</p>
<h1><a class="anchor" id="SoftwareUnitInteraction"></a>
Software Unit Interaction</h1>
<p>The below diagram depicts the interaction of ZenturHSM.<br />
</p><div class="image">
<img src="ZenturHSM_SoftwareUnitInteraction.png" alt="ZenturHSM_SoftwareUnitInteraction.png"/>
</div>
 <h1><a class="anchor" id="SoftwareUnitDescription_1"></a>
Dynamic Behavior</h1>
<p>Sequence diagram for SHE Key update: The function <a class="el" href="_zentur_h_s_m_8h.html#a9f86eddddce2b82dc1751ded7d7aa77a" title="This function is used to handle UDS write request(0x2E, DID 0xEFC5) for provisioning keys related to ...">shewrite_Write_Adaption_0xEFC5()</a>,<a class="el" href="_zentur_h_s_m_8h.html#a0d470457b68aebe14b2d95ea35758e8d" title="This function is used to support UDS read request (0x22 DID 0xEFC5) for reading the length of status ...">shewrite_ReadLength_Adaption_0xEFC5()</a> and <a class="el" href="_zentur_h_s_m_8h.html#a836845403945329e8a0023145634e977" title="This function is used to handle UDS read request (0x22, DID 0xEFC5) for reading the written status of...">shewrite_Read_Adaption_0xEFC5()</a> are called from GW Adaptation.It performs its activities and sets positive or negative response .It Copies M1 to M5 messages from Dcm buffers to local buffers. Set the shekeyrange_var to COMM_KEY_RANGE_STD, If the KeyID is &lt; KDM_EXTD_KEY_11 else set to COMM_KEY_RANGE_EXTEND.</p>
<div class="image">
<img src="SHE_Key_Update_Dynamic_behaviour.png" alt="SHE_Key_Update_Dynamic_behaviour.png"/>
<div class="caption">
SHE Key update dynamic behaviour</div></div>
 <p>Sequence diagram for VKMS IS Key Provisioning: The function <a class="el" href="_zentur_h_s_m_8h.html#ae7d8f97060c3fc9a7d4ae81c36094623" title="This function is to handle UDS write request(0x2E, DID 0xEFF2) for Provisioning the CHORUS VKMS IS Ke...">shewrite_Write_Adaption_0xEFF2()</a>,<a class="el" href="_zentur_h_s_m_8h.html#aa2ebe89c0355dbff3387387b14b81d1b" title="This function is to support UDS read request (0x22 DID 0xEEF2) for reading the length of status bytes...">shewrite_ReadLength_Adaption_0xEFF2()</a> and <a class="el" href="_zentur_h_s_m_8h.html#a64ac9017169e77929923cfe2d6892b0a" title="This function is to handle UDS read request (0x22, DID 0xEEF2) for reading the written status of the ...">shewrite_Read_Adaption_0xEFF2()</a> are called from GW Adaptation.It performs its activities and sets positive or negative response .It Copies M1 to M5 messages from Dcm buffers to local buffers. Cyclic task shall use them to write the data to SHE slots.Set the state machine state variable to next appropriate state to execute the state machine in cyclic task.</p>
<div class="image">
<img src="VKMS_IS_KeyProvisioning_Dynamic_behaviour.png" alt="VKMS_IS_KeyProvisioning_Dynamic_behaviour.png"/>
<div class="caption">
VKMS IS Key Provisioning dynamic behaviour</div></div>
 <p>Sequence diagram for cyclic task to write new key into SHE slot: The function <a class="el" href="_zentur_h_s_m_8h.html#ae5c2ae3318f78b3ac1a86dc0623df245" title="This function is used for Cyclic task for state machine handling. ">shewrite_cyclic()</a>is called from Diagtask context with 10ms periodicity. Then ZenturHSM calls <a class="el" href="_zentur_h_s_m_8c.html#a099152b0bea4cf3d6948b642a1c5cf04" title="This function has state machine implementation for new key loading into SHE slots. ">shewrite_writenewkey()</a> function to write the SHE key based on the state conditions</p>
<div class="image">
<img src="Cyclictask_to_write_newkey_dynamicbehaviour.png" alt="Cyclictask_to_write_newkey_dynamicbehaviour.png"/>
<div class="caption">
Cyclic task to write new key into SHE slot dynamic behaviour</div></div>
 <h1><a class="anchor" id="SoftwareUnitDescription_2"></a>
Data flow Diagram</h1>
<p>The diagram below presents the major dataflow from the module.<br />
</p>
<div class="image">
<img src="ZenturHSM_DFD0.png" alt="ZenturHSM_DFD0.png"/>
</div>
 <h2>Tasks</h2>
<p>No OSEK task needs to be configured for by the module. </p><h2>Interrupts</h2>
<p>ZenturHSM uses no interrupts</p>
<h2>Events</h2>
<p>ZenturHSM uses no events.</p>
<h2>Operating Modes</h2>
<p>ZenturHSM does not have mode dependent requirements.</p>
<h2>Power Modes</h2>
<p>ZenturHSM does not have power mode dependent requirements.</p>
<h2>Exception and Error Handling</h2>
<p>The functions are handling errors via return value .</p>
<h2>Synchronization</h2>
<p>N/A</p>
<h2>Operations</h2>
<p>See function list</p>
<h2>Macros</h2>
<p>See macro list</p>
<h2>Algorithms</h2>
<p>N/A</p>
<h2>Data Structures</h2>
<p>See structure list</p>
<h1><a class="anchor" id="SoftwareDesignEval"></a>
Evaluate Software Detailed Design</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Interoperability  </th><th class="markdownTableHeadLeft">Interaction  </th><th class="markdownTableHeadLeft">Criticality  </th><th class="markdownTableHeadLeft">Technical complexity  </th><th class="markdownTableHeadLeft">Risks  </th><th class="markdownTableHeadLeft">Testability   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">High  </td><td class="markdownTableBodyLeft">Medium  </td><td class="markdownTableBodyLeft">Medium  </td><td class="markdownTableBodyLeft">Medium  </td><td class="markdownTableBodyLeft">Low  </td><td class="markdownTableBodyLeft">High   </td></tr>
</table>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13, 1.8.14-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer">
  <small>
    Generated on Fri Jul 15 2022 11:29:29 for SDD_ZENTURHSM by &#160;
    <a>
      <img class="footer" src="doxygen.png" alt="doxygen"/>
    </a>
    1.8.14<br>
    <a>
      <img class="footer" src="../conti.png" alt="continental"/>
    </a>
  </small>
</address>
</body>
</html>
