# sw.tool.sdd_compliance_checker

Compliance checker for software detailed design with doxygen. The compliance checker uses the xml files generated by
doxygen to determine the formal completeness of the software detail design. The correctness of the SDD content must be verified by review.

## Supported Formal Compliance Checks

- Meta Data
  - File location and line
  
- Function
  - Brief description
  - Parameter description
  - Return description (incl. retval) 
  - Security relevance classification
  - Verification criteria (incl. test coverage)
  - Traceability (satisfy or designdecision)
  - Test coverage (linked test case or codereview)
 
- Enum
  - Brief description
  - Enum variable brief description 
  
- Variable/Union/Struct/Class/File/Namespace/Typedef/Define
  - Brief description

- Markdown
  - Requirements traceability (satisfy)
  
## Not Supported (yet)
- Function
  - Parameter range/unit definition
  - Parameters: templateparam, exception
  - Callsequence

## Reports
- Findings (csv/json)
- Metrics/Coverage (json)
- Linked requirements (xml) - currently used by DevOps for Grafana - will be replaced by metrics.json


## Limitations
### Test Coverage
- Checker only verifies if at least one test case is linked to the function. Functions which can't be covered via unit test shall be marked with @codereview{justification}. 
- An automatic filtering of elements which do not require and unit test is challenging and risky as doxygen does not provide all the required information in the xml export.

## Remarks
Sections (annotation tag) which are mandatory shouldn't be removed. Instead the description shall contain <N/A>, e.g. if no verification criteria is specified.

### Usage

#### Compliance Checker (without Doors Export)
```
python main.py --xml-dir /path/to/generated-doxygen-xmls --output-dir /path/to/output-directory
```
#### Compliance Checker (with Doors Export)
```
python main.py --xml-dir /path/to/generated-doxygen-xmls --output-dir /path/to/output-directory --doors-csv /path/csv --target-release 176
```

Preconditions:
- Doors CSV Export with the following attributes available:
  - Object Identifier
  - p_ICAS1evo_invalid_from
  - p_Release_ICAS1evo
  - c_Maturity
  - c_Variant
  - c_This_is_
- Target release for coverage must be provided without prefix, e.g. 170 for A170
- CSV Seperator: semicolon

For an exmpale see the door-export.csv in test-data directory.

#### Example
```
python main.py
--xml-dir=D:\DSUsers\uic70342\Repos\sw.tool.sdd_compliance_checker\tests\test-data\full-xml-example
--output-dir=D:\DSUsers\uic70342\Repos\sw.tool.sdd_compliance_checker\tests
--doors-csv=D:\DSUsers\uic70342\Repos\sw.tool.sdd_compliance_checker\tests\test-data\doors-export.csv
--target-release=176
```

### Local Installation
Preconditions:
- Python3.6
- Python packages installed via requirements.txt (pip3 install -r requirements.txt)


## Maintainer
Lukas Osinski (lukas.osinski@continental.com)
